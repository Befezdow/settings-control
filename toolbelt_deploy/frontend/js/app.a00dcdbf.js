(function(t){function e(e){for(var s,r,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)r=i[u],n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);m&&m(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var i=a[r];0!==n[i]&&(s=!1)}s&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},r={app:0},n={app:0},o=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-431d0dbc":"1f02b46c"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-431d0dbc":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise(function(e,a){for(var s="css/"+({}[t]||t)+"."+{"chunk-431d0dbc":"83e420e1"}[t]+".css",n=c.p+s,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var l=o[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===n))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===s||u===n)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var s=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");o.request=s,delete r[t],m.parentNode.removeChild(m),a(o)},m.href=n;var f=document.getElementsByTagName("head")[0];f.appendChild(m)}).then(function(){r[t]=0}));var s=n[t];if(0!==s)if(s)e.push(s[2]);else{var o=new Promise(function(e,a){s=n[t]=[e,a]});e.push(s[2]=o);var l,u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(t),l=function(e){d.onerror=d.onload=null,clearTimeout(m);var a=n[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+s+": "+r+")");o.type=s,o.request=r,a[1](o)}n[t]=void 0}};var m=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,u.appendChild(d)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var m=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0532":function(t,e,a){},"0861":function(t,e,a){"use strict";var s=a("bb8a"),r=a.n(s);r.a},1776:function(t,e,a){},"296e":function(t,e,a){"use strict";var s=a("64f8"),r=a.n(s);r.a},"2b30":function(t,e,a){},"2c1d":function(t,e,a){t.exports=a.p+"img/disk.01798019.svg"},"2c80":function(t,e,a){"use strict";var s=a("fe38"),r=a.n(s);r.a},"30fb":function(t,e,a){"use strict";var s=a("6cdd"),r=a.n(s);r.a},"32c0":function(t,e,a){},"365c":function(t,e,a){},"37b9":function(t,e,a){"use strict";var s=a("a620"),r=a.n(s);r.a},"3e61":function(t,e,a){"use strict";var s=a("aad5"),r=a.n(s);r.a},"3fb0":function(t,e,a){t.exports=a.p+"img/swap.340277bb.svg"},"431f":function(t,e,a){"use strict";var s=a("365c"),r=a.n(s);r.a},4571:function(t,e,a){},"45e4":function(t,e,a){"use strict";var s=a("5e6b"),r=a.n(s);r.a},"460a":function(t,e,a){t.exports=a.p+"img/ram.a157a171.svg"},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return a(e)}function n(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}r.keys=function(){return Object.keys(s)},r.resolve=n,t.exports=r,r.id="4678"},4720:function(t,e,a){"use strict";var s=a("9c46"),r=a.n(s);r.a},"537e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("app-header",{on:{onHamburger:t.onSidebarOpened}}),a("app-sidebar",{attrs:{isOpen:t.sidebarIsOpened},on:{closeSidebar:t.onSidebarClosed}}),a("router-view",{attrs:{id:"app-content"}}),a("app-footer",{attrs:{id:"app-footer"}})],1)},n=[],o=(a("96cf"),a("1da1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar"},[a("ul",{staticClass:"navbar-nav"},[a("li",[a("a",{attrs:{href:"#"},on:{click:t.onHamburgerClicked}},[a("i",{staticClass:"fa fa-bars clickable",staticStyle:{"font-size":"180%"}})])])]),a("router-link",{staticClass:"clickable",attrs:{to:"/"}},[a("div",{staticClass:"navbar-brand"},[t._v("\n                    ToolBelt\n                ")])]),a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/"}},[t._v("\n                        "+t._s(t.$store.state.robotLabel)+"\n                    ")])],1)])],1)])},c=[],l={name:"Header",methods:{onHamburgerClicked:function(){this.$emit("onHamburger")}}},u=l,d=(a("3e61"),a("2877")),m=Object(d["a"])(u,i,c,!1,null,"59fda517",null);m.options.__file="Header.vue";var f=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar",class:{"sidebar-opened":t.isOpen,"sidebar-closed":!t.isOpen}},[a("a",{staticClass:"hamburgerbtn clickable",attrs:{href:"#"},on:{click:t.close}},[a("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})]),a("a",{staticClass:"closebtn clickable",attrs:{href:"#"},on:{click:t.close}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t.$store.getters.isAuthenticated?a("div",[a("divider",{attrs:{text:"Конфигурация"}}),a("ul",[a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/settings"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fas fa-truck-monster"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Конфигурация ядра\n                            ")])])])],1),a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/server_settings"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fas fa-sliders-h"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Конфигурация сервера\n                            ")])])])],1),a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/wifi"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fas fa-broadcast-tower"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Сети\n                            ")])])])],1),a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/modules"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fas fa-box-open"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Модули\n                            ")])])])],1)])],1):t._e(),t.$store.getters.isServerConnected?a("div",[a("divider",{attrs:{text:"Мониторинг"}}),a("ul",[a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/system_info"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fas fa-thermometer"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Нагрузка системы\n                            ")])])])],1),a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/monitoring_navigation"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"far fa-chart-bar"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Данные датчиков\n                            ")])])])],1),a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/logs"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fas fa-book"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Логи ядра\n                            ")])])])],1)])],1):t._e(),a("div",[a("divider",{attrs:{text:"Авторизация"}}),a("ul",[this.$store.getters.isAuthenticated?t._e():a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/login"},nativeOn:{click:function(e){return t.close(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fa fa-key"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Вход\n                            ")])])])],1),this.$store.getters.isAuthenticated?a("li",[a("router-link",{staticClass:"clickable",attrs:{to:"/"},nativeOn:{click:function(e){t.logout()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1 pl-0",attrs:{align:"center"}},[a("i",{staticClass:"fa fa-lock"})]),a("div",{staticClass:"col-11 col-sm-11 col-md-11 col-lg-11 col-xl-11"},[t._v("\n                                Выход\n                            ")])])])],1):t._e()])],1)])},p=[],v=a("d4ec"),b=a("bee2"),g=a("99de"),w=a("7e84"),C=a("262e"),_=a("9072"),x=function(t){function e(t,a){var s;return Object(v["a"])(this,e),s=Object(g["a"])(this,Object(w["a"])(e).call(this)),s.message=t,s.status=a,s}return Object(C["a"])(e,t),Object(b["a"])(e,[{key:"toString",value:function(){return"Code: ".concat(this.status,". Description: ").concat(this.message)}}]),e}(Object(_["a"])(Error)),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"divider ml-2 mr-2"},[t._m(0),a("span",{staticClass:"inner-text ml-2 mr-2"},[t._t("default",[a("h5",[t._v(t._s(t.text))])])],2),t._m(1)])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"lines"},[a("hr")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"lines"},[a("hr")])}],S={name:"Divider",props:["text"]},P=S,$=(a("37b9"),Object(d["a"])(P,k,y,!1,null,"66adb8ae",null));$.options.__file="Divider.vue";var j=$.exports,R=a("1864"),O=a.n(R),N={backendUrl:"127.0.0.1:5000",loggingLevel:"DEBUG",floatPrecision:3,cookiesTTL:"30MIN"},T={TRACE:O.a.TRACE,DEBUG:O.a.DEBUG,INFO:O.a.INFO,TIME:O.a.TIME,WARN:O.a.WARN,ERROR:O.a.ERROR,OFF:O.a.OFF},I=N.loggingLevel||T.DEBUG;O.a.useDefaults();var D=O.a.get("GlobalLogger");D.setLevel(T[I]);var M=D,q={name:"Sidebar",props:["isOpen"],components:{divider:j},data:function(){return{monitorIsOpen:!1}},methods:{onClick:function(t){!this.$el.contains(t.target)&&this.isOpen&&this.close()},close:function(){this.$emit("closeSidebar")},switchMonitorList:function(){this.monitorIsOpen=!this.monitorIsOpen},logout:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.close(),t.prev=1,t.next=4,this.$store.dispatch("deauthorize");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 9:case"end":return t.stop()}},t,this,[[1,6]])}));function e(){return t.apply(this,arguments)}return e}()},created:function(){window.addEventListener("click",this.onClick)},beforeDestroy:function(){window.removeEventListener("click",this.onClick)}},E=q,A=(a("431f"),Object(d["a"])(E,h,p,!1,null,"8d0caaea",null));A.options.__file="Sidebar.vue";var z=A.exports,L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("footer",{staticClass:"footer"},[a("span",[t._v("Developed by Silence & Befezdow 2k18")])])])}],H={name:"Footer"},F=H,W=(a("b588"),Object(d["a"])(F,L,U,!1,null,"278bd850",null));W.options.__file="Footer.vue";var B=W.exports,Y=a("bc3a"),J=a.n(Y),V={name:"App",components:{"app-header":f,"app-sidebar":z,"app-footer":B},data:function(){return{sidebarIsOpened:!1}},methods:{onSidebarOpened:function(){this.sidebarIsOpened=!0},onSidebarClosed:function(){this.sidebarIsOpened=!1}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return J.a.interceptors.response.use(function(t){return t},function(t){throw 401===t.response.status?(e.$store.commit("deleteAuthToken"),e.$router.push("/login"),new x(t.response.data.errorInfo,t.response.status)):new x(t.response.data.errorInfo,t.response.status)}),t.next=3,this.$store.dispatch("initUrl");case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},G=V,K=(a("5c0b"),Object(d["a"])(G,r,n,!1,null,null,null));K.options.__file="App.vue";var Z=K.exports,Q=a("8c4f"),X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[t._m(0),t.settings?a("div",[a("div",{staticClass:"mb-2"},[a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("vue-json-editor",{staticClass:"offset-xl-1 col-xl-10 offset-lg-1 col-lg-10 offset-0 col-12",attrs:{"show-btns":!1},model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}})],1)]),a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-xl-3 offset-xl-5 col-lg-3 offset-lg-5 col-sm-6 offset-0 col-12 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){t.ResetConfig()}}},[t._v("\n                        Сбросить\n                    ")])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-sm-6 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.UpdateConfig()}}},[t._v("\n                        Обновить\n                    ")])])])]):t._e()])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12",attrs:{align:"center"}},[a("h2",[t._v("Конфигурация ядра")])])])}],et=(a("ac6a"),a("45a3")),at={name:"Settings",mounted:function(){this.$store.getters.isAuthenticated?this.loadData():(this.$toaster.error("Для доступа к этой странице необходима авторизация"),this.$router.push("/login"))},methods:{loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this._loader=this.$loading.show(),t.next=4,this.$store.state.requestService.getCoreConfig();case 4:this.settings=t.sent,t.t0=regeneratorRuntime.keys(this.settings);case 6:if((t.t1=t.t0()).done){t.next=16;break}if(e=t.t1.value,!this.settings.hasOwnProperty(e)){t.next=14;break}if(a=this.settings[e],!(a instanceof Object||a instanceof Array)){t.next=14;break}return this.rawMode=!0,M.info("Forced raw mode enabled"),t.abrupt("break",16);case 14:t.next=6;break;case 16:t.next=22;break;case 18:t.prev=18,t.t2=t["catch"](0),t.t2 instanceof x?this.$toaster.error(t.t2.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t2)),this.settings={};case 22:this._loader.hide();case 23:case"end":return t.stop()}},t,this,[[0,18]])}));function e(){return t.apply(this,arguments)}return e}(),UpdateConfig:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this._loader=this.$loading.show(),t.next=4,this.$store.state.requestService.setCoreConfig(this.settings);case 4:e=t.sent,e?this.$toaster.success("Успешно обновлено"):this.$toaster.warn("Deprecated. Check backend code"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 11:this._loader.hide();case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),ResetConfig:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadData();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},components:{VueJsonEditor:et["a"]},data:function(){return{settings:{},rawMode:!0,_loader:null}}},st=at,rt=(a("c7f1"),Object(d["a"])(st,X,tt,!1,null,"ae099efe",null));rt.options.__file="Settings.vue";var nt=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.databaseName&&t.robotName?a("div",[a("div",{staticClass:"col-12 col-sm-12 col-md-9 col-lg-7 col-xl-6"},[a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 pl-1 pr-1"},[a("span",[t._v("Нач. время: ")]),a("datetime",{attrs:{type:"datetime",zone:"utc","value-zone":"utc","input-class":"form-control"},model:{value:t.filter.startTime,callback:function(e){t.$set(t.filter,"startTime",e)},expression:"filter.startTime"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 pl-1 pr-1"},[a("span",[t._v("Кон. время: ")]),a("datetime",{attrs:{type:"datetime",zone:"utc","value-zone":"utc","input-class":"form-control"},model:{value:t.filter.endTime,callback:function(e){t.$set(t.filter,"endTime",e)},expression:"filter.endTime"}})],1)]),a("div",{staticClass:"scrollable-filters mb-3"},[a("b-collapse",{attrs:{id:"filters-collapse"}},t._l(t.numDataStructure,function(e,s){return a("div",{key:s,staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 pl-1 pr-1"},[a("span",[t._v("Мин. "+t._s(e.name.toLowerCase())+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter["min__"+e.systemName],expression:"filter[`min__${element.systemName}`]"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.filter["min__"+e.systemName]},on:{input:function(a){a.target.composing||t.$set(t.filter,"min__"+e.systemName,a.target.value)}}})]),a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 pl-1 pr-1"},[a("span",[t._v("Макс. "+t._s(e.name.toLowerCase())+": ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter["max__"+e.systemName],expression:"filter[`max__${element.systemName}`]"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.filter["max__"+e.systemName]},on:{input:function(a){a.target.composing||t.$set(t.filter,"max__"+e.systemName,a.target.value)}}})])])}))],1),a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 pb-1 pl-1 pr-1"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:function(e){t.loadData(1)}}},[t._v("Применить")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 pb-1 pl-1 pr-1"},[a("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:function(e){t.clearFilters()}}},[t._v("Очистить")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 pl-1 pr-1"},[a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.filters-collapse",modifiers:{"filters-collapse":!0}}],staticClass:"btn btn-secondary btn-block",attrs:{type:"button"}},[t._v("Доп. фильтры")])])])]),a("hr"),a("div",{staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"custom-table"},[a("thead",{staticClass:"custom-table-header"},[a("tr",[a("th",[t._v("№")]),a("th",{staticClass:"clickable-header-elem",on:{click:function(e){t.changeSort("time")}}},[t.sort.time?a("span",[1===t.sort.time?a("i",{key:"1",staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}}):a("i",{key:"2",staticClass:"fa fa-chevron-up",attrs:{"aria-hidden":"true"}})]):t._e(),t._v("\n                        Время\n                    ")]),a("th",[t._v("\n                        Широта\n                    ")]),a("th",[t._v("\n                        Долгота\n                    ")]),t._l(t.dataStructure,function(e,s){return a("th",{key:s,staticClass:"clickable-header-elem",on:{click:function(a){t.changeSort(e.systemName)}}},[t.sort[e.systemName]?a("span",[1===t.sort[e.systemName]?a("i",{key:"1",staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}}):a("i",{key:"2",staticClass:"fa fa-chevron-up",attrs:{"aria-hidden":"true"}})]):t._e(),t._v("\n                        "+t._s(e.name)+"\n                    ")])})],2)]),a("tbody",{staticClass:"custom-table-body"},t._l(t.dataElements,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s((t._currentPage-1)*t.elementsPerPage+s+1))]),a("td",[t._v(t._s(t._f("moment")(e.time,"DD.MM.YYYY HH:mm:ss.SSS")))]),a("td",[t._v(t._s(e.latitude))]),a("td",[t._v(t._s(e.longitude))]),t._l(t.dataStructure,function(s,r){return a("td",{key:r},[t._v(t._s(e.data[s.systemName]))])})],2)}))])]),a("div",{staticClass:"pagination-flexbox-container pt-2"},[a("b-pagination",{staticClass:"paginator-flexbox-item pb-2",attrs:{size:"md","total-rows":t.dbElementsCount,"per-page":t.elementsPerPage,align:"center"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("div",{staticClass:"per-page-flexbox-item per-page-flexbox-container pb-2"},[a("div",{staticClass:"mr-1",staticStyle:{"white-space":"nowrap"}},[t._v("\n                    На странице:\n                ")]),a("div",[a("input",{staticClass:"form-control",staticStyle:{"max-width":"80px"},attrs:{type:"number"},domProps:{value:t.elementsPerPage},on:{change:t.changeElementsPerPage}})])])],1)]):t._e()},it=[],ct=(a("f559"),a("55dd"),function(t){function e(t){var a;return Object(v["a"])(this,e),a=Object(g["a"])(this,Object(w["a"])(e).call(this)),a.message=t,a}return Object(C["a"])(e,t),Object(b["a"])(e,[{key:"toString",value:function(){return this.message}}]),e}(Object(_["a"])(Error)));function lt(t,e){return ut.apply(this,arguments)}function ut(){return ut=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),t.t0 instanceof x?e.error(t.t0.message):t.t0 instanceof ct?(e.error("Ошибка клиента"),M.error(t.t0.message)):(e.error("Ошибка сервера"),M.error(t.t0));case 8:case"end":return t.stop()}},t,this,[[0,5]])})),ut.apply(this,arguments)}var dt={name:"TableStatistics",data:function(){return{dataElements:[],elementsPerPage:20,_currentPage:1,dbElementsCount:0,dataStructure:[],filter:{},sort:{},robotName:null,databaseName:null,numDataStructure:null}},computed:{currentPage:{get:function(){return this._currentPage},set:function(t){this._currentPage=t,this.loadData(this._currentPage)}}},methods:{clearFilters:function(){for(var t in this.filter)this.filter.hasOwnProperty(t)&&(this.filter[t]=null)},changeSort:function(t){var e=this.sort[t];this.sort={},this.sort[t]=e?-e:1,this.loadData(this.currentPage)},changeElementsPerPage:function(t){this.elementsPerPage=t.target.valueAsNumber,this.loadData(this.currentPage)},loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var s,r,n,o,i,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(i in s=(e-1)*a.elementsPerPage,r=a.elementsPerPage,n=a.dataStructure.length<=0,o=JSON.parse(JSON.stringify(a.filter)),o)o.hasOwnProperty(i)&&("startTime"===i||"endTime"===i?o[i]=o[i]?new Date(o[i]):null:(i.startsWith("min__")||i.startsWith("max__"))&&(o[i]=o[i]?parseFloat(o[i]):null));return t.next=7,a.$store.state.requestService.getStatisticsTableData(a.robotName,a.databaseName,r,s,n,o,a.sort);case 7:c=t.sent,a.dbElementsCount=c.count,a.dataElements=c.result,n&&(a.dataStructure=c.dataStructure,a.numDataStructure=a.dataStructure.filter(function(t){return"number"===t.type}));case 11:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){this.databaseName=this.$route.query.dbName,null!=this.databaseName?(this.$route.query.latitude&&this.$route.query.longitude&&(this.filter.latitude=this.$route.query.latitude,this.filter.longitude=this.$route.query.longitude),this.robotName=this.$store.state.robotName,this.currentPage=1):M.warn("Chart statistics: can't load data, database name is empty")}},mt=dt,ft=(a("e35b"),Object(d["a"])(mt,ot,it,!1,null,"67afdbeb",null));ft.options.__file="TableStatistics.vue";var ht=ft.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.databaseName&&t.robotName?a("div",[t.$isWideScreen()?a("b-tabs",{attrs:{lazy:!0}},t._l(t.dataStructure,function(e){return a("b-tab",{key:e.systemName,attrs:{title:e.name}},[a("chart-statistics-component",{attrs:{"robot-name":t.robotName,"db-name":t.databaseName,"field-name":e.systemName}})],1)}),1):a("div",{staticClass:"container-fluid pl-0 pr-0"},t._l(t.dataStructure,function(e){return a("div",{key:e.systemName,staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("button",{staticClass:"btn btn-info",staticStyle:{width:"100%"},on:{click:function(a){t.selectMobileTab(e.systemName)}}},[t._v(t._s(e.name))])]),a("b-collapse",{attrs:{id:e.systemName,visible:t.isMobileTabVisible(e.systemName),accordion:"charts-accordion",role:"tabpanel"}},[a("b-card-body",{staticClass:"p-0"},[t.isMobileTabVisible(e.systemName)?a("chart-statistics-component",{attrs:{"robot-name":t.robotName,"db-name":t.databaseName,"field-name":e.systemName}}):t._e()],1)],1)],1)],1)])}))],1):t._e()},vt=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 pl-1 pr-1"},[a("span",{staticClass:"ml-1"},[t._v("Нач. время:")]),a("datetime",{attrs:{type:"datetime",zone:"UTC","value-zone":"UTC","input-class":"form-control"},model:{value:t.filterStartTime,callback:function(e){t.filterStartTime=e},expression:"filterStartTime"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 pl-1 pr-1"},[a("span",{staticClass:"ml-1"},[t._v("Кон. время:")]),a("datetime",{class:{"mb-3":!t.$isWideScreen()},attrs:{type:"datetime",zone:"UTC","value-zone":"UTC","input-class":"form-control"},model:{value:t.filterEndTime,callback:function(e){t.filterEndTime=e},expression:"filterEndTime"}})],1),a("div",{staticClass:"col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2 pl-1 pr-1"},[t.$isWideScreen()?a("span",[t._v(" ")]):t._e(),a("button",{staticClass:"btn btn-success btn-block",class:{"mb-1":!t.$isWideScreen()},attrs:{type:"button"},on:{click:function(e){t.loadFilterData()}}},[t._v("Применить")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2 pl-1 pr-1"},[t.$isWideScreen()?a("span",[t._v(" ")]):t._e(),a("button",{staticClass:"btn btn-secondary btn-block",class:{"mb-1":!t.$isWideScreen()},attrs:{type:"button"},on:{click:function(e){t.clearFilters()}}},[t._v("Очистить")])]),t.$isWideScreen()?t._e():a("div",{staticClass:"col-12 col-sm-12 col-md-5 col-lg-4 col-xl-3 pl-1 pr-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 pr-1"},[a("button",{staticClass:"btn btn-primary btn-block mb-1",attrs:{type:"button",disabled:!t.leftPageActive},on:{click:function(e){t.loadLeftPageData()}}},[t._v("❮")])]),a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 pl-1"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:!t.rightPageActive},on:{click:function(e){t.loadRightPageData()}}},[t._v("❯")])])])]),t.$isWideScreen()?t._e():a("div",{staticClass:"col-12 col-sm-12 col-md-5 col-lg-4 col-xl-3 pl-1 pr-1"},[a("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:function(e){t.showModal()}}},[t._v("Изменить интервал")])])])])])]),a("hr"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6"},[t.chartData?a("line-chart",{attrs:{id:t.fieldName+"_chart","chart-data":t.chartData,options:t.chartOptions}}):t._e()],1),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6"},[a("div",{staticClass:"table-container",staticStyle:{"overflow-x":"auto"},attrs:{id:t.fieldName+"-table-container"}},[a("table",{staticClass:"custom-table"},[t._m(0),a("tbody",{staticClass:"custom-table-body"},t._l(t.data,function(e,s){return a("tr",{key:s,attrs:{id:t.fieldName+"_elem"+e.id}},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(t._f("moment")(e.time,"DD.MM.YYYY HH:mm:ss.SSS")))]),a("td",[t._v(t._s(t._f("toFixedPrecision")(e.value)))]),a("td",[t._v(t._s(t._f("toFixedPrecision")(e.latitude)))]),a("td",[t._v(t._s(t._f("toFixedPrecision")(e.longitude)))])])}))])])])]),t.$isWideScreen()?a("div",{staticClass:"row"},[a("div",{staticClass:"offset-md-2 offset-lg-3 offset-xl-3 col-12 col-sm-12 col-md-8 col-lg-6 col-xl-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"offset-0 offset-sm-1 offset-md-0 offset-lg-0 offset-xl-1 col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 pr-1"},[a("button",{staticClass:"btn btn-primary btn-block mb-2",attrs:{type:"button",disabled:!t.leftPageActive},on:{click:function(e){t.loadLeftPageData()}}},[t._v("❮")])]),a("div",{staticClass:"col-6 col-sm-4 col-md-6 col-lg-6 col-xl-4 pl-1 pr-1"},[a("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:function(e){t.showModal()}}},[t._v("Изменить интервал")])]),a("div",{staticClass:"col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 pl-1"},[a("button",{staticClass:"btn btn-primary btn-block mb-2",attrs:{type:"button",disabled:!t.rightPageActive},on:{click:function(e){t.loadRightPageData()}}},[t._v("❯")])])])])]):t._e()]),a("chart-statistics-component-modal",{ref:t.fieldName+"_modal",attrs:{id:t.fieldName+"_modal"},on:{ok:function(e){t.onModalOk()}},model:{value:t.tempIntervalSize,callback:function(e){t.tempIntervalSize=e},expression:"tempIntervalSize"}})],1)},gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"custom-table-header"},[a("tr",[a("th",[t._v("№")]),a("th",[t._v("Время")]),a("th",[t._v("Значение")]),a("th",[t._v("Широта")]),a("th",[t._v("Долгота")])])])}],wt=(a("c5f6"),a("04ff"),a("5eb4")),Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"chartModal",attrs:{size:"md",title:"Изменение интервала",centered:""}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("b",[t._v("Внимание!")]),t._v(" Большой интервал может замедлить работу приложения. Рекомендуемый размер - 3 минуты.\n                ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 col-sm-7 col-md-7 col-lg-6 col-xl-5"},[a("b",[t._v("Интервал в минутах:")])]),a("div",{staticClass:"col-4 col-sm-5 col-md-5 col-lg-6 col-xl-7",attrs:{align:"left"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value)},t.handleInput]}})])])]),a("template",{slot:"modal-footer"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"offset-0 offset-sm-0 offset-md-2 offset-lg-4 offset-xl-4 col-12 col-sm-6 col-md-5 col-lg-4 col-xl-4 mb-1"},[a("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:function(e){t.onCancel()}}},[t._v("Отмена")])]),a("div",{staticClass:"col-12 col-sm-6 col-md-5 col-lg-4 col-xl-4"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:function(e){t.onOk()}}},[t._v("Применить")])])])])])],2)},_t=[],xt={name:"ChartStatisticsComponentModal",props:{value:{required:!0}},data:function(){return{content:this.value}},methods:{handleInput:function(t){this.$emit("input",this.content)},onOk:function(){this.hideModal(),this.$emit("ok")},onCancel:function(){this.hideModal(),this.$emit("cancel")},showModal:function(){this.$refs.chartModal.show()},hideModal:function(){this.$refs.chartModal.hide()}}},kt=xt,yt=(a("7c90"),Object(d["a"])(kt,Ct,_t,!1,null,"fc6eec5a",null));yt.options.__file="ChartStatisticsComponentModal.vue";var St=yt.exports,Pt={name:"ChartStatisticsComponent",components:{LineChart:wt["a"],ChartStatisticsComponentModal:St},props:{robotName:{type:String,required:!0},dbName:{type:String,required:!0},fieldName:{type:String,required:!0}},data:function(){return{chartData:null,chartOptions:$t(this.$moment,this.scrollToTableRow),tableData:[],minTime:null,maxTime:null,filterStartTime:null,filterEndTime:null,intervalStartTime:null,intervalEndTime:null,tempIntervalSize:"3",intervalSize:3,minimumValue:null,averageValue:null,maximumValue:null}},methods:{scrollToTableRow:function(t,e){var a=this.chartData.datasets[t].data[e].id;if(null!==a&&void 0!==a){this.$scrollTo("#".concat(this.fieldName,"_elem").concat(a),500,{container:this.$isWideScreen()?"#".concat(this.fieldName,"-table-container"):"body",easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0});var s=document.getElementById("".concat(this.fieldName,"_elem").concat(a));s.classList.add("highlighted"),setTimeout(function(){s.classList.remove("highlighted")},2e3)}},clearFilters:function(){this.filterStartTime=null,this.filterEndTime=null},showModal:function(){this.$refs["".concat(this.fieldName,"_modal")].showModal()},onModalOk:function(){this.intervalSize=Number.parseInt(this.tempIntervalSize),this.loadFilterData()},loadInitData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.robotName&&e.dbName&&e.fieldName){t.next=2;break}throw new ct("Chart statistics: can't load data, one of required params is empty");case 2:return t.next=4,e.$store.state.requestService.getStatisticsInitChartData(e.robotName,e.dbName,e.fieldName,e.intervalSize);case 4:a=t.sent,e.minTime=a.minTime,e.maxTime=a.maxTime,e.filterStartTime=a.minTime.toISOString(),e.filterEndTime=a.maxTime.toISOString(),e.intervalStartTime=a.intervalStartTime,e.intervalEndTime=a.intervalEndTime,e.minimumValue=a.minimum,e.averageValue=a.average,e.maximumValue=a.maximum,e.data=a.result;case 15:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadFilterData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.robotName&&e.dbName&&e.fieldName){t.next=2;break}throw new ct("Chart statistics: can't load data, one of required params is empty");case 2:return a=new Date(e.filterStartTime),s=new Date(e.filterEndTime),t.next=6,e.$store.state.requestService.getStatisticsFilterChartData(e.robotName,e.dbName,e.fieldName,a,s,e.intervalSize);case 6:r=t.sent,e.minTime=a,e.maxTime=s,e.intervalStartTime=r.intervalStartTime,e.intervalEndTime=r.intervalEndTime,e.minimumValue=r.minimum,e.averageValue=r.average,e.maximumValue=r.maximum,e.data=r.result;case 15:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadLeftPageData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.robotName&&e.dbName&&e.fieldName){t.next=2;break}throw new ct("Chart statistics: can't load data, one of required params is empty");case 2:return e.intervalEndTime=e.intervalStartTime,e.intervalStartTime=e.$moment(e.intervalStartTime).subtract(e.intervalSize,"m").toDate(),e.intervalStartTime=e.intervalStartTime>e.minTime?e.intervalStartTime:e.minTime,t.next=7,e.$store.state.requestService.getStatisticsPageChartData(e.robotName,e.dbName,e.fieldName,e.intervalStartTime,e.intervalEndTime);case 7:e.data=t.sent;case 8:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadRightPageData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.robotName&&e.dbName&&e.fieldName){t.next=2;break}throw new ct("Chart statistics: can't load data, one of required params is empty");case 2:return e.intervalStartTime=e.intervalEndTime,e.intervalEndTime=e.$moment(e.intervalEndTime).add(e.intervalSize,"m").toDate(),e.intervalEndTime=e.intervalEndTime<e.maxTime?e.intervalEndTime:e.maxTime,t.next=7,e.$store.state.requestService.getStatisticsPageChartData(e.robotName,e.dbName,e.fieldName,e.intervalStartTime,e.intervalEndTime);case 7:e.data=t.sent;case 8:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:{leftPageActive:function(){return this.intervalStartTime>this.minTime},rightPageActive:function(){return this.intervalEndTime<this.maxTime},data:{get:function(){return this.tableData},set:function(t){var e=this;this.tableData=t;var a=JSON.parse(JSON.stringify(jt));a.data=t.map(function(t){return{x:t.time,y:t.value,latitude:t.latitude,longitude:t.longitude,id:t.id}});var s=JSON.parse(JSON.stringify(jt));s.borderColor="#a9a400",s.backgroundColor="#a9a400",s.spanGaps=!0,s.label="Минимальное значение",s.supported=1,s.data=t.map(function(a,s){return{x:a.time,y:0===s||s===t.length-1?e.minimumValue:null}});var r=JSON.parse(JSON.stringify(jt));r.borderColor="#a9003a",r.backgroundColor="#a9003a",r.spanGaps=!0,r.label="Среднее значение",r.supported=2,r.data=t.map(function(a,s){return{x:a.time,y:0===s||s===t.length-1?e.averageValue:null}});var n=JSON.parse(JSON.stringify(jt));n.borderColor="#00a96f",n.backgroundColor="#00a96f",n.spanGaps=!0,n.label="Максимальное значение",n.supported=3,n.data=t.map(function(a,s){return{x:a.time,y:0===s||s===t.length-1?e.maximumValue:null}}),this.chartData={datasets:[a,s,r,n]}}}},mounted:function(){this.loadInitData()}};function $t(t,e){return{maintainAspectRatio:!1,scales:{xAxes:[{type:"time",ticks:{autoSkip:!0},distribution:"linear",time:{unit:"second",round:"millisecond",displayFormats:{second:"HH:mm:ss"}}}],yAxes:[{scaleLabel:{display:!0,labelString:"Значение данных",fontSize:14}}]},hover:{mode:"nearest",intersect:!0},legend:{display:!0,position:"bottom",fullWidth:!0,reverse:!1},tooltips:{callbacks:{label:function(e,a){var s=[];switch(a.datasets[e.datasetIndex].supported){case 1:s.push("Минимальное значение");break;case 2:s.push("Среднее значение");break;case 3:s.push("Максимальное значение");break;default:var r=a.datasets[e.datasetIndex].data[e.index].x,n=a.datasets[e.datasetIndex].data[e.index].latitude,o=a.datasets[e.datasetIndex].data[e.index].longitude;s.push("Время: ".concat(t(r).format("DD.MM.YYYY HH:mm:ss.SSS"))),s.push("Широта: ".concat(n)),s.push("Долгота: ".concat(o));break}return s},title:function(t,e){return"Значение: ".concat(t[0].yLabel)}}},pan:{enabled:!0,mode:"x"},zoom:{enabled:!0,mode:"x"},onClick:function(t,a){if(a.length>0){var s=a[0]._datasetIndex,r=a[0]._index;e(s,r)}}}}var jt={label:"Данные",backgroundColor:"#0a00a9",borderColor:"#0a00a9",borderWidth:3,fill:!1,lineTension:0,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:3,pointHoverRadius:4,pointHitRadius:10,pointBorderWidth:2},Rt=Pt,Ot=(a("2c80"),Object(d["a"])(Rt,bt,gt,!1,null,null,null));Ot.options.__file="ChartStatisticsComponent.vue";var Nt=Ot.exports,Tt={name:"ChartStatistics",components:{ChartStatisticsComponent:Nt},data:function(){return{dataStructure:[],robotName:null,databaseName:null,activeTab:null}},methods:{selectMobileTab:function(t){this.activeTab===t?this.activeTab=null:this.activeTab=t},isMobileTabVisible:function(t){return this.activeTab===t},loadAvailableFields:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.robotName=e.$store.state.robotName,e.databaseName=e.$route.query.dbName,null!=e.databaseName){t.next=5;break}return M.warn("Chart statistics: can't load data, database name is empty"),t.abrupt("return");case 5:return t.next=7,e.$store.state.requestService.getStatisticsDataStructure(e.robotName,e.databaseName);case 7:e.dataStructure=t.sent,e.dataStructure=e.dataStructure.filter(function(t){return"number"===t.type});case 9:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.loadAvailableFields()}},It=Tt,Dt=(a("a1b1"),Object(d["a"])(It,pt,vt,!1,null,"0553a3c4",null));Dt.options.__file="ChartStatistics.vue";var Mt=Dt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"mb-3"},[a("h2",{attrs:{align:"center"}},[t._v("Конфигурация сети  "),a("i",{staticClass:"fas fa-sync",on:{click:function(e){t.loadData()}}})])]),a("divider",[a("h5",[t._v("\n            Беспроводные соединения  \n                "),a("i",{staticClass:"fas fa-eraser",staticStyle:{color:"#dc3545"},on:{click:function(e){t.dropAllWirelessConfirmation()}}})])]),t.wirelessNetworks.length>0?a("div",{attrs:{role:"tablist"}},t._l(t.wirelessNetworks,function(e,s){return a("div",{key:s},[a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-xl-8 offset-xl-2 offset-0 col-12"},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"wireless"+s,expression:"'wireless' + index"}],attrs:{block:"",href:"#",variant:"info"}},[t._v("\n                                    "+t._s(e.name)+" ("+t._s(e.signalLevel)+" "),a("i",{staticClass:"fas fa-signal"}),t._v(")\n                                ")])],1),a("b-collapse",{ref:"wireless"+s,refInFor:!0,attrs:{id:"wireless"+s,visible:e.active,accordion:"wireless-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Имя сети:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.name||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Идентификатор сети:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.id||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Режим:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.mode||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Канал:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.channel||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Частота:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.frequency||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Пропускная способность:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.speedRate||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Интерфейс:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.device||"-")+"\n                                        ")])]),e.active?t._e():a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-form-label mb-1",attrs:{for:"wireless"+s+"password"}},[t._v("Пароль для подключения:")]),a("div",{staticClass:"col-xl-9 col-12 mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"network.password"}],staticClass:"form-control",attrs:{id:"wireless"+s+"password",type:"password",placeholder:"Enter password"},domProps:{value:e.password},on:{input:function(a){a.target.composing||t.$set(e,"password",a.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"offset-xl-3 offset-0 col-xl-3 col-4"},[a("button",{staticClass:"btn btn-block btn-danger",attrs:{disabled:e.active||!e.id},on:{click:function(a){t.deleteNetworkConfirmation(e)}}},[t._v("\n                                                Забыть подключение\n                                            ")])]),a("div",{staticClass:"col-xl-3 col-4"},[a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"wirelessParams"+s,expression:"'wirelessParams' + index"}],staticClass:"btn btn-block btn-primary",attrs:{id:"wirelessParamsButton"+s,disabled:!e.id},on:{click:function(e){t.changeCollapseStatus("wirelessParams"+s)}}},[t._v("\n                                                Настройка параметров \n                                                "),a("i",{staticClass:"fa",class:{"fa-angle-down":!t.collapseStatuses["wirelessParams"+s],"fa-angle-up":t.collapseStatuses["wirelessParams"+s]}})])]),a("div",{staticClass:"col-xl-3 col-4"},[a("button",{staticClass:"btn btn-block btn-success",attrs:{disabled:!e.id&&!e.password||e.active},on:{click:function(a){t.changeNetworkConfirmation(e)}}},[t._v("\n                                                Подключиться\n                                            ")])])]),a("b-collapse",{ref:"wirelessParams"+s,refInFor:!0,attrs:{id:"wirelessParams"+s}},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                                DHCP:\n                                            ")]),a("div",{staticClass:"col-xl-9 col-8"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.requiredParams.ipv4method,callback:function(a){t.$set(e.requiredParams,"ipv4method",a)},expression:"network.requiredParams.ipv4method"}},[a("b",[t._v("(Checked: "+t._s(e.requiredParams.ipv4method)+")")]),t._v(" "+t._s(e.requiredParams._ipv4method)+"\n                                                ")])],1)]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-form-label",attrs:{for:"wireless"+s+"ipv4address"}},[t._v("Ipv4 адрес:")]),a("div",{staticClass:"col-xl-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requiredParams.ipv4address,expression:"network.requiredParams.ipv4address"}],staticClass:"form-control",attrs:{disabled:e.requiredParams.ipv4method,id:"wireless"+s+"ipv4address",placeholder:"...",type:"text"},domProps:{value:e.requiredParams.ipv4address},on:{input:function(a){a.target.composing||t.$set(e.requiredParams,"ipv4address",a.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-form-label",attrs:{for:"wireless"+s+"ipv4gateway"}},[t._v("Ipv4 gateway:")]),a("div",{staticClass:"col-xl-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requiredParams.ipv4gateway,expression:"network.requiredParams.ipv4gateway"}],staticClass:"form-control",attrs:{disabled:e.requiredParams.ipv4method,id:"wireless"+s+"ipv4gateway",placeholder:"...",type:"text"},domProps:{value:e.requiredParams.ipv4gateway},on:{input:function(a){a.target.composing||t.$set(e.requiredParams,"ipv4gateway",a.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-form-label",attrs:{for:"wireless"+s+"ipv4dns"}},[t._v("Ipv4 dns:")]),a("div",{staticClass:"col-xl-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requiredParams.ipv4dns,expression:"network.requiredParams.ipv4dns"}],staticClass:"form-control",attrs:{disabled:e.requiredParams.ipv4method,id:"wireless"+s+"ipv4dns",placeholder:"...",type:"text"},domProps:{value:e.requiredParams.ipv4dns},on:{input:function(a){a.target.composing||t.$set(e.requiredParams,"ipv4dns",a.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"offset-xl-9 offset-md-8 offset-0 col-xl-3 col-md-4 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(a){t.modifyConnectionParams(e)}}},[t._v("Применить")])])])])],1)],1)],1)],1)])])})):a("div",[t._m(0)]),a("divider",{attrs:{text:"Проводные соединения"}}),t.wiredNetworks.length>0?a("div",{attrs:{role:"tablist"}},t._l(t.wiredNetworks,function(e,s){return a("div",{key:s},[a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-xl-8 offset-xl-2 offset-0 col-12"},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion_core",expression:"'accordion_core'"}],attrs:{block:"",href:"#",variant:"info"}},[t._v(t._s(e.name))])],1),a("b-collapse",{attrs:{id:"accordion_core",visible:e.active,accordion:"wired-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Идентификатор сети:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.id||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Интерфейс:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.device||"-")+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Активна:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.active)+"\n                                        ")])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                            Автоподключение:\n                                        ")]),a("div",{staticClass:"col-xl-9 col-8"},[t._v("\n                                            "+t._s(e.autoconnect)+"\n                                        ")])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"offset-xl-3 offset-0 col-xl-3 col-4"},[a("button",{staticClass:"btn btn-block btn-danger",attrs:{disabled:e.active||!e.id},on:{click:function(a){t.deleteNetworkConfirmation(e)}}},[t._v("\n                                                Забыть подключение\n                                            ")])]),a("div",{staticClass:"col-xl-3 col-4"},[a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"wiredParams"+s,expression:"'wiredParams' + index"}],staticClass:"btn btn-block btn-primary",attrs:{id:"wiredParamsButton"+s},on:{click:function(e){t.changeCollapseStatus("wiredParams"+s)}}},[t._v("\n                                                Настройка параметров \n                                                "),a("i",{staticClass:"fa",class:{"fa-angle-down":!t.collapseStatuses["wiredParams"+s],"fa-angle-up":t.collapseStatuses["wiredParams"+s]}})])]),a("div",{staticClass:"col-xl-3 col-4"},[a("button",{staticClass:"btn btn-block btn-success",attrs:{disabled:!e.id&&!t.password||e.active},on:{click:function(a){t.connect(e)}}},[t._v("\n                                                Подключиться\n                                            ")])])]),a("b-collapse",{ref:"wiredParams"+s,refInFor:!0,attrs:{id:"wiredParams"+s}},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 col-4"},[t._v("\n                                                DHCP:\n                                            ")]),a("div",{staticClass:"col-xl-9 col-8"},[a("b-form-checkbox",{attrs:{switch:""},model:{value:e.requiredParams.ipv4method,callback:function(a){t.$set(e.requiredParams,"ipv4method",a)},expression:"wiredNetwork.requiredParams.ipv4method"}},[a("b",[t._v("(Checked: "+t._s(e.requiredParams.ipv4method)+")")]),t._v(" "+t._s(e.requiredParams._ipv4method)+"\n                                                ")])],1)]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-form-label",attrs:{for:"wired"+s+"ipv4address"}},[t._v("Ipv4 адрес:")]),a("div",{staticClass:"col-xl-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requiredParams.ipv4address,expression:"wiredNetwork.requiredParams.ipv4address"}],staticClass:"form-control",attrs:{disabled:e.requiredParams.ipv4method,id:"wired"+s+"ipv4address",placeholder:"...",type:"text"},domProps:{value:e.requiredParams.ipv4address},on:{input:function(a){a.target.composing||t.$set(e.requiredParams,"ipv4address",a.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-form-label",attrs:{for:"wired"+s+"ipv4gateway"}},[t._v("Ipv4 gateway:")]),a("div",{staticClass:"col-xl-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requiredParams.ipv4gateway,expression:"wiredNetwork.requiredParams.ipv4gateway"}],staticClass:"form-control",attrs:{disabled:e.requiredParams.ipv4method,id:"wired"+s+"ipv4gateway",placeholder:"...",type:"text"},domProps:{value:e.requiredParams.ipv4gateway},on:{input:function(a){a.target.composing||t.$set(e.requiredParams,"ipv4gateway",a.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-form-label",attrs:{for:"wired"+s+"ipv4dns"}},[t._v("Ipv4 dns:")]),a("div",{staticClass:"col-xl-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.requiredParams.ipv4dns,expression:"wiredNetwork.requiredParams.ipv4dns"}],staticClass:"form-control",attrs:{disabled:e.requiredParams.ipv4method,id:"wired"+s+"ipv4dns",placeholder:"...",type:"text"},domProps:{value:e.requiredParams.ipv4dns},on:{input:function(a){a.target.composing||t.$set(e.requiredParams,"ipv4dns",a.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"offset-xl-9 offset-md-8 offset-0 col-xl-3 col-md-4 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(a){t.modifyConnectionParams(e)}}},[t._v("Применить")])])])])],1)],1)],1)],1)])])})):a("div",[t._m(1)]),a("networks-modal",{ref:"change_network_modal",attrs:{id:"change_network_modal",title:"Переключение сети"},on:{ok:function(e){t.connect(t.tempNetwork)}}},[a("b",[t._v("Внимание!")]),t._v("\n            При изменении сети, необходимо будет на клиентском устройстве также переключиться в новую сеть и перейти по новому адресу клиента.\n        ")]),a("networks-modal",{ref:"drop_all_modal",attrs:{id:"drop_all_modal",title:"Забыть все беспроводные соединения"},on:{ok:function(e){t.dropAllWirelessConnections()}}},[a("b",[t._v("Внимание!")]),t._v("\n            Будут сброшены все беспроводные соединения.\n        ")]),a("networks-modal",{ref:"drop_one_modal",attrs:{id:"drop_one_modal",title:"Забыть соединение"},on:{ok:function(e){t.deleteConnection(t.networkToDelete)}}},[a("b",[t._v("Внимание!")]),t._v("\n            Будет сброшена вся информация об соединении "+t._s(t.networkToDelete.name)+".\n        ")])],1)},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-xl-8 offset-xl-2 offset-0 col-12"},[t._v("\n                    Нет доступных беспроводных сетей или не подключен адаптер\n                ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-xl-8 offset-xl-2 offset-0 col-12"},[t._v("\n                    Нет доступных проводных сетей или не подключен адаптер\n                ")])])}],At=a("be94"),zt=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"networksModal",attrs:{size:"lg",title:t.title,centered:""}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t._t("default",[t._v("Network test modal")])],2)])]),a("template",{slot:"modal-footer"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"offset-0 offset-sm-0 offset-md-4 offset-lg-6 offset-xl-8 col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(e){t.hideModal()}}},[t._v("Отмена")])]),a("div",{staticClass:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:function(e){t.onOk()}}},[t._v("Принять")])])])])])],2)}),Lt=[],Ut={name:"NetworksModal",props:{title:{type:String,required:!0}},methods:{onOk:function(){this.hideModal(),this.$emit("ok")},showModal:function(){this.$refs.networksModal.show()},hideModal:function(){this.$refs.networksModal.hide()}}},Ht=Ut,Ft=(a("e8c7"),Object(d["a"])(Ht,zt,Lt,!1,null,"9a752ff8",null));Ft.options.__file="NetworksModal.vue";var Wt=Ft.exports,Bt={name:"Networks",components:{divider:j,"networks-modal":Wt},mounted:function(){this.$store.getters.isAuthenticated?this.loadData():(this.$toaster.error("Для доступа к этой странице необходима авторизация"),this.$router.push("/login"))},data:function(){return{wiredNetworks:[],wirelessNetworks:[],_loader:null,timeoutToRedirectMsecs:7e3,collapseStatuses:{},tempNetwork:{},networkToDelete:{}}},methods:{loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.getNetworks();case 4:a=t.sent,this.wiredNetworks=a.wiredNetworks,this.wirelessNetworks=a.wirelessNetworks,t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0)),this.wirelessNetworks=[],this.wiredNetworks=[];case 14:e.hide();case 15:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),timeoutRedirection:function(t,e){this.$router.push("/"),t.hide(),e.password="",this.tempNetwork={},this.$toaster.success("Текущая сеть: ".concat(e.name))},connect:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.$loading.show(),s=null,t.prev=2,r=!1,!e.password){t.next=12;break}return M.info("Connecting to ".concat(e.name," with password ").concat(e.password,". Timeout ").concat(this.timeoutToRedirectMsecs," msecs.")),s=setTimeout(this.timeoutRedirection,this.timeoutToRedirectMsecs,a,e),t.next=9,this.$store.state.requestService.createWifiConnection(e.name,e.password);case 9:r=t.sent,t.next=21;break;case 12:if(!e.id){t.next=20;break}return M.info("Connecting to ".concat(e.name," via known id ").concat(e.id,". Timeout ").concat(this.timeoutToRedirectMsecs," msecs.")),s=setTimeout(this.timeoutRedirection,this.timeoutToRedirectMsecs,a,e),t.next=17,this.$store.state.requestService.connectionUp(e.id);case 17:r=t.sent,t.next=21;break;case 20:this.$toaster.error("Не введено никаких данных для подключения к сети");case 21:if(!r){t.next=26;break}return clearTimeout(s),t.next=25,this.loadData();case 25:this.$toaster.success("Текущая сеть: ".concat(e.name));case 26:t.next=32;break;case 28:t.prev=28,t.t0=t["catch"](2),clearTimeout(s),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 32:e.password="",this.tempNetwork={},a.hide();case 35:case"end":return t.stop()}},t,this,[[2,28]])}));function e(e){return t.apply(this,arguments)}return e}(),deleteNetworkConfirmation:function(t){this.networkToDelete=t,this.$refs.drop_one_modal.showModal()},deleteConnection:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this.$loading.show();try{s=this.$store.state.requestService.deleteConnection(e.id),s?(this.$toaster.success("Соединение ".concat(e.name," успешно удалено")),e.id=null):this.$toaster.error("Ошибка удаления сети ".concat(e.name))}catch(r){r instanceof x?this.$toaster.error(r.message):(this.$toaster.error("Серверная ошибка"),M.error(r))}this.networkToDelete={},a.hide();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changeNetworkConfirmation:function(t){this.tempNetwork=t,this.$refs.change_network_modal.showModal()},modifyConnectionParams:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.modifyConnectionParams(e.id,Object(At["a"])({},e.requiredParams.toPythonDict(),e.additionalParams));case 4:s=t.sent,s?(this.$toaster.success("Соединение ".concat(e.name," успешно модифицированно")),e.id=null):this.$toaster.error("Ошибка модификации параметров ".concat(e.name)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 11:a.hide();case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(e){return t.apply(this,arguments)}return e}(),dropAllWirelessConfirmation:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.drop_all_modal.showModal();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),dropAllWirelessConnections:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.deleteAllWirelessConnections();case 4:if(a=t.sent,!a){t.next=11;break}return t.next=8,this.loadData();case 8:this.$toaster.success("Все беспроводные соединения успешно стерты"),t.next=12;break;case 11:this.$toaster.error("Не удалось очистить беспроводные соединения");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 17:e.hide();case 18:case"end":return t.stop()}},t,this,[[1,14]])}));function e(){return t.apply(this,arguments)}return e}(),changeCollapseStatus:function(t){this.collapseStatuses[t]?this.collapseStatuses[t]=!this.collapseStatuses[t]:this.$set(this.collapseStatuses,t,!0)}}},Yt=Bt,Jt=(a("fa38"),Object(d["a"])(Yt,qt,Et,!1,null,"61673519",null));Jt.options.__file="Networks.vue";var Vt=Jt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-11 col-xl-10"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 pl-1 pr-1"},[a("span",[t._v("Нач. время: ")]),a("datetime",{attrs:{type:"datetime",zone:"utc","value-zone":"utc","input-class":"form-control"},model:{value:t.filterStartTime,callback:function(e){t.filterStartTime=e},expression:"filterStartTime"}})],1),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 pl-1 pr-1"},[a("span",[t._v("Кон. время: ")]),a("datetime",{attrs:{type:"datetime",zone:"utc","value-zone":"utc","input-class":"form-control"},model:{value:t.filterEndTime,callback:function(e){t.filterEndTime=e},expression:"filterEndTime"}})],1),a("div",{staticClass:"d-none d-md-block d-lg-none col-md-4"}),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 pl-1 pr-1"},[a("span",[t._v("Тип: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterType,expression:"filterType"}],staticClass:"form-control",class:{"mb-3":!t.$isWideScreen()},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.filterType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("Critical")]),a("option",{attrs:{value:"1"}},[t._v("Warning")]),a("option",{attrs:{value:"2"}},[t._v("Debug")]),a("option",{attrs:{value:"3"}},[t._v("Info")])])]),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-3 col-xl-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 pl-1 pr-1"},[t.$isWideScreen()?a("span",[t._v(" ")]):t._e(),a("button",{staticClass:"btn btn-success btn-block",class:{"mb-1":!t.$isWideScreen()},attrs:{type:"button"},on:{click:function(e){t.loadData(1)}}},[t._v("Применить")])]),a("div",{staticClass:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 pl-1 pr-1"},[t.$isWideScreen()?a("span",[t._v(" ")]):t._e(),a("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:function(e){t.clearFilters()}}},[t._v("Очистить")])])])])])])])]),a("hr"),a("div",{staticStyle:{"overflow-x":"auto"}},[a("table",{staticClass:"custom-table"},[t._m(0),a("tbody",{staticClass:"custom-table-body"},t._l(t.logs,function(e,s){return a("tr",{key:s,staticClass:"selectable-table-row",on:{click:function(e){t.selectLog(s)}}},[a("td",[t._v(t._s((t._currentPage-1)*t.elementsPerPage+s+1))]),a("td",[t._v(t._s(t._f("moment")(e.time,"DD.MM.YYYY HH:mm:ss.SSS")))]),a("td",[t._v(t._s(t._f("logLevelToString")(e.type)))]),a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(t._f("chopLongMessage")(e.message)))])])}))])]),a("div",{staticClass:"pagination-flexbox-container pt-2"},[a("b-pagination",{staticClass:"paginator-flexbox-item pb-2",attrs:{size:"md","total-rows":t.dbElementsCount,"per-page":t.elementsPerPage,align:"center"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),a("div",{staticClass:"per-page-flexbox-item per-page-flexbox-container pb-2"},[a("div",{staticClass:"mr-1",staticStyle:{"white-space":"nowrap"}},[t._v("\n                    На странице:\n                ")]),a("div",[a("input",{staticClass:"form-control",staticStyle:{"max-width":"80px"},attrs:{type:"number"},domProps:{value:t.elementsPerPage},on:{change:t.changeElementsPerPage}})])])],1),a("logs-modal",{ref:"logsModal"})],1)},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"custom-table-header"},[a("tr",[a("th",[t._v("№")]),a("th",[t._v("Время")]),a("th",[t._v("Тип")]),a("th",[t._v("Заголовок")]),a("th",[t._v("Сообщение")])])])}],Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"logsModal",attrs:{size:"lg",id:"logs-modal",title:"Детальная информация",scrollable:"",centered:"","ok-only":""}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4 col-sm-3 col-md-3 col-lg-2 col-xl-2"},[a("b",[t._v("Заголовок:")])]),t.logTitle?a("div",{staticClass:"col-8 col-sm-9 col-md-9 col-lg-10 col-xl-10",attrs:{align:"left"}},[t._v("\n                    "+t._s(this.logTitle)+"\n                ")]):t._e()]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4 col-sm-3 col-md-3 col-lg-2 col-xl-2"},[a("b",[t._v("Уровень:")])]),t.logType?a("div",{staticClass:"col-8 col-sm-9 col-md-9 col-lg-10 col-xl-10",attrs:{align:"left"}},[t._v("\n                    "+t._s(t._f("logLevelToString")(this.logType))+"\n                ")]):t._e()]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-4 col-sm-3 col-md-3 col-lg-2 col-xl-2"},[a("b",[t._v("Время:")])]),t.logTime?a("div",{staticClass:"col-8 col-sm-9 col-md-9 col-lg-10 col-xl-10",attrs:{align:"left"}},[t._v("\n                    "+t._s(t._f("moment")(this.logTime,"DD.MM.YYYY HH:mm:ss.SSS"))+"\n                ")]):t._e()]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 col-sm-3 col-md-3 col-lg-2 col-xl-2"},[a("b",[t._v("Описание:")])]),t.logMessage?a("div",{staticClass:"col-8 col-sm-9 col-md-9 col-lg-10 col-xl-10",attrs:{align:"left"}},[t._v("\n                    "+t._s(this.logMessage)+"\n                ")]):t._e()])]),a("template",{slot:"modal-footer"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"offset-0 offset-sm-6 offset-md-8 offset-lg-9 offset-xl-10 col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(e){t.hideModal()}}},[t._v("Ок")])])])])])],2)},Qt=[],Xt={name:"LogsModal",data:function(){return{logTime:null,logType:null,logTitle:null,logMessage:null}},methods:{showModal:function(t){this.logTime=t.time,this.logType=t.type,this.logTitle=t.title,this.logMessage=t.message,this.$refs.logsModal.show()},hideModal:function(){this.$refs.logsModal.hide()}}},te=Xt,ee=(a("a867"),Object(d["a"])(te,Zt,Qt,!1,null,"62a3e0f7",null));ee.options.__file="LogsModal.vue";var ae=ee.exports,se={name:"Logs",components:{"logs-modal":ae},data:function(){return{logs:[],elementsPerPage:20,_currentPage:1,dbElementsCount:0,filterStartTime:null,filterEndTime:null,filterType:null}},computed:{currentPage:{get:function(){return this._currentPage},set:function(t){this._currentPage=t,this.loadData(this._currentPage)}}},methods:{clearFilters:function(){this.filterStartTime=null,this.filterEndTime=null,this.filterType=null},changeElementsPerPage:function(t){this.elementsPerPage=t.target.valueAsNumber,this.loadData(this.currentPage)},loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var s,r,n,o,i,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=(e-1)*a.elementsPerPage,r=a.elementsPerPage,n=a.filterStartTime?new Date(a.filterStartTime):null,o=a.filterEndTime?new Date(a.filterEndTime):null,i=a.filterType?parseInt(a.filterType):null,t.next=7,a.$store.state.requestService.getLogs("AMTS",r,s,n,o,i);case 7:c=t.sent,a.dbElementsCount=c.count,a.logs=c.result;case 10:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),selectLog:function(t){this.$refs.logsModal.showModal(this.logs[t])}},mounted:function(){this.currentPage=1},filters:{chopLongMessage:function(t){return t.length>50?t.slice(0,50)+"...":t}}},re=se,ne=(a("45e4"),Object(d["a"])(re,Gt,Kt,!1,null,"f24b13d0",null));ne.options.__file="Logs.vue";var oe=ne.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.available?a("div",[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-10 col-xl-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 pl-1 pr-1"},[a("span",[t._v("Нач. время:")]),a("datetime",{attrs:{type:"datetime",zone:"UTC","value-zone":"UTC","input-class":"form-control"},model:{value:t.filter.startTime,callback:function(e){t.$set(t.filter,"startTime",e)},expression:"filter.startTime"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 pl-1 pr-1"},[a("span",[t._v("Кон. время:")]),a("datetime",{class:{"mb-3":!t.$isWideScreen()},attrs:{type:"datetime",zone:"UTC","value-zone":"UTC","input-class":"form-control"},model:{value:t.filter.endTime,callback:function(e){t.$set(t.filter,"endTime",e)},expression:"filter.endTime"}})],1),a("div",{staticClass:"col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2 pl-1 pr-1"},[t.$isWideScreen()?a("span",[t._v(" ")]):t._e(),a("button",{staticClass:"btn btn-success btn-block",class:{"mb-1":!t.$isWideScreen()},attrs:{type:"button"},on:{click:function(e){t.loadData()}}},[t._v("Применить")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2 pl-1 pr-1"},[t.$isWideScreen()?a("span",[t._v(" ")]):t._e(),a("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:function(e){t.clearFilters()}}},[t._v("Очистить")])])])])])]),a("hr"),a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12 col-sm-12 col-md-6 col-lg-7 col-xl-8"},[a("yandex-map",{staticClass:"maps-size mb-2",attrs:{coords:[t.centerLatitude,t.centerLongitude],zoom:"3","cluster-options":{openBalloonOnClick:!1},behaviors:["drag","multiTouch","scrollZoom","dblClickZoom","rightMouseButtonMagnifier"],controls:["fullscreenControl","zoomControl","typeSelector","rulerControl"],placemarks:t.placemarks}})],1),a("div",{staticClass:"col-12 col-sm-12 col-md-6 col-lg-5 col-xl-4"},[a("div",{staticClass:"scrollable-info"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t._m(0),a("div",{staticClass:"custom-list-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8"},[t._v("\n                                        Широта:\n                                    ")]),a("div",{staticClass:"col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},[null!==t.selectedIndex?a("span",[t._v("\n                                "+t._s(t.elements[t.selectedIndex].latitude.toFixed(6))+"\n                            ")]):t._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8"},[t._v("\n                                        Долгота:\n                                    ")]),a("div",{staticClass:"col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},[null!==t.selectedIndex?a("span",[t._v("\n                                "+t._s(t.elements[t.selectedIndex].longitude.toFixed(6))+"\n                            ")]):t._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8"},[t._v("\n                                        Количество:\n                                    ")]),a("div",{staticClass:"col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},[null!==t.selectedIndex?a("span",[t._v("\n                                "+t._s(t.elements[t.selectedIndex].count)+"\n                            ")]):t._e()])]),null!==t.selectedIndex?a("div",{staticClass:"inverse-color"},t._l(t.elements[t.selectedIndex].average,function(e,s){return a("div",{key:s,staticClass:"row"},[a("div",{staticClass:"col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8",staticStyle:{"word-wrap":"break-word"}},[t._v("\n                                            Средн. "+t._s(e.name.toLowerCase())+":\n                                        ")]),a("div",{staticClass:"col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},[t._v("\n                                            "+t._s(t._f("toFixedPrecision")(e.value))+"\n                                        ")])])})):a("div",{staticClass:"inverse-color"},t._l(t.numericFields,function(e,s){return a("div",{key:s,staticClass:"row"},[a("div",{staticClass:"col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8",staticStyle:{"word-wrap":"break-word"}},[t._v("\n                                            Средн. "+t._s(e.name.toLowerCase())+":\n                                        ")])])}))]),a("div",{staticClass:"row"},[a("div",{staticClass:"offset-md-6 offset-lg-7 offset-xl-7 col-12 col-sm-12 col-md-6 col-lg-5 col-xl-5 mt-2 mb-1"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:null===t.selectedIndex},on:{click:t.redirectToTableStatistics}},[t._v("Подробнее")])])])])])])])])]):a("div",[a("h2",[t._v("Карты недоступны")])])},ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row custom-list-header"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t._v("\n                                    Информация\n                                ")])])}],le=a("e151"),ue={name:"Maps",components:{yandexMap:le["yandexMap"]},data:function(){return{available:!0,placemarks:[],elements:[],numericFields:[],selectedIndex:null,centerLatitude:0,centerLongitude:0,robotName:null,databaseName:null,filter:{}}},mounted:function(){this.databaseName=this.$route.query.dbName,this.robotName=this.$store.state.robotName,this.loadStartData()},methods:{loadStartData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.loader=this.$loading.show(),this.available=window.navigator.onLine,!this.available){t.next=5;break}return t.next=5,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.state.requestService.getStatisticsMapsData(e.robotName,e.databaseName,!0);case 2:e.numericFields=t.sent;case 3:case"end":return t.stop()}},t,this)})));case 5:this.loader.hide();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.filter)),a.startTime=a.startTime?new Date(a.startTime):null,a.endTime=a.endTime?new Date(a.endTime):null,t.next=5,e.$store.state.requestService.getStatisticsMapsData(e.robotName,e.databaseName,!1,a);case 5:s=t.sent,e.placemarks=[],e.elements=[],e.centerLatitude=s.centerLatitude,e.centerLongitude=s.centerLongitude,s.points.forEach(function(t,a){var s=JSON.parse(JSON.stringify(de));s.markerId="".concat(a),s.coords=[t.latitude,t.longitude],s.callbacks={click:function(t){e.placemarkClicked(t,a)}},s.balloonTemplate=e.getBalloon(t.latitude,t.longitude,t.count),e.placemarks.push(s),e.elements.push(t)});case 11:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),clearFilters:function(){this.filter.startTime=null,this.filter.endTime=null},redirectToTableStatistics:function(){var t=this.elements[this.selectedIndex].latitude,e=this.elements[this.selectedIndex].longitude;this.$router.push("/table_statistics?dbName=".concat(this.databaseName,"&latitude=").concat(t,"&longitude=").concat(e))},placemarkClicked:function(t,e){this.centerLatitude=this.elements[e].latitude,this.centerLongitude=this.elements[e].longitude,this.selectedIndex=e},getBalloon:function(t,e,a){return'\n                <div class="row">\n                    <div class="col-md-6">\n                        Широта:\n                    </div>\n                    <div class="col-md-6">\n                        '.concat(t.toFixed(6),'\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-md-6">\n                        Долгота:\n                    </div>\n                    <div class="col-md-6">\n                        ').concat(e.toFixed(6),'\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col-md-6">\n                        Кол-во:\n                    </div>\n                    <div class="col-md-6">\n                        ').concat(a,'\n                    </div>\n                </div>\n                <a href="/table_statistics?dbName=').concat(this.databaseName,"&latitude=").concat(t,"&longitude=").concat(e,'">Подробнее</a>\n            ')}}},de={properties:{},options:{},clusterName:"1"},me=ue,fe=(a("296e"),Object(d["a"])(me,ie,ce,!1,null,"656e88e7",null));fe.options.__file="Maps.vue";var he=fe.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("h2",{staticClass:"mb-3",attrs:{align:"center"}},[t._v("Список модулей "+t._s(t.$store.state.robotLabel))]),a("div",{attrs:{role:"tablist"}},[a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-xl-8 offset-xl-2 offset-lg-1 col-lg-10 offset-md-0 col-md-12 offset-0 col-12"},[a("b-card",{attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion_core",expression:"'accordion_core'"}],attrs:{block:"",href:"#",variant:"info"}},[t._v(t._s(t.core.name))])],1),a("b-collapse",{attrs:{id:"accordion_core",visible:"",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",{staticClass:"pt-2 pb-0"},[a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Имя конфига:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[a("span",{staticClass:"ml-1"},[t._v(t._s(t.core.configPath||"-"))])])]),a("div",{staticClass:"row mb-1"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Имя исполняемого:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[a("span",{staticClass:"ml-1"},[t._v(t._s(t.core.executeName||"-"))])])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Адрес git:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[a("span",{staticClass:"ml-1"},[t._v(t._s(t.core.url||"-"))])])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Время последней сборки:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[t.core.isBuilt?a("span",{staticClass:"ml-1"},[t._v(t._s(t._f("moment")(t.core.buildModifyTime,"DD.MM.YYYY HH:mm:ss")))]):a("span",{staticClass:"ml-1"},[t._v("Не был собран")])])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Время последнего пула:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[t.core.isCloned?a("span",{staticClass:"ml-1"},[t._v(t._s(t._f("moment")(t.core.srcModifyTime,"DD.MM.YYYY HH:mm:ss")))]):a("span",{staticClass:"ml-1"},[t._v("Не был склонирован")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[t.core.isActive?a("button",{staticClass:"btn btn-block btn-danger",on:{click:function(e){t.stopCore()}}},[t._v("\n                                            Остановить\n                                        ")]):a("button",{staticClass:"btn btn-block btn-success",attrs:{disabled:!t.core.isBuilt},on:{click:function(e){t.runCore()}}},[t._v("\n                                            Запустить\n                                        ")])]),a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12 mb-1"},[a("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){t.buildModule(t.core.name)}}},[t._v("\n                                            Собрать\n                                        ")])]),a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12 mb-1"},[a("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){t.buildMachine()}}},[t._v("\n                                            Собрать всё\n                                        ")])])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12 mb-1"},[a("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){t.pullModule(t.core.name)}}},[t._v("\n                                            Обновить\n                                        ")])]),a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12 mb-1"},[a("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){t.pullMachine()}}},[t._v("\n                                            Обновить все\n                                        ")])]),a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"coreUpdate",expression:"'coreUpdate'"}],staticClass:"btn btn-block btn-primary",attrs:{id:"coreUpdateButton"},on:{click:function(e){t.changeCollapseStatus("coreUpdate")}}},[t._v("\n                                            Ручное обновление\n                                            "),a("i",{staticClass:"fa",class:{"fa-angle-down":!t.collapseStatuses["coreUpdate"],"fa-angle-up":t.collapseStatuses["coreUpdate"]}})])])]),a("b-collapse",{ref:"coreUpdate",attrs:{id:"coreUpdate"}},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-12 col-lg-12 col-form-label mb-1",attrs:{for:"core_update"}},[a("b",[t._v("Архив с исходниками для обновления:")])]),a("div",{staticClass:"col-xl-12 col-lg-12 col-12 mb-1"},[a("b-form-file",{attrs:{placeholder:"...",accept:".zip","drop-placeholder":"Перетащите архив сюда",id:"core_update"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("p",{staticClass:"card-text ml-1",staticStyle:{"font-size":"0.75rem",color:"rgba(16,8,13,0.54)"}},[t._v("Внутри архива должна быть папка, с именем модуля, например, fomodel")])],1)]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"offset-xl-8 offset-lg-8 offset-md-8 offset-sm-6 offset-0 col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.file},on:{click:function(e){t.ManualUpdateModule(t.module_elem.name)}}},[t._v("Обновить")])])])])],1)],1)],1)],1)]),t.modules.length>0?a("div",t._l(t.modules,function(e,s){return a("div",{key:s},[a("div",{staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-xl-8 offset-xl-2 offset-lg-1 col-lg-10 offset-md-0 col-md-12 offset-0 col-12"},[a("b-card",{attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"module"+s,expression:"'module' + index"}],attrs:{block:"",href:"#",variant:"info"}},[t._v(t._s(e.name))])],1),a("b-collapse",{attrs:{id:"module"+s,accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",{staticClass:"pt-2 pb-0"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Адрес git:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[a("span",{staticClass:"ml-1"},[t._v(t._s(e.url||"-"))])])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Время последней сборки:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[e.isBuilt?a("span",{staticClass:"ml-1"},[t._v(t._s(t._f("moment")(e.buildModifyTime,"DD.MM.YYYY HH:mm:ss")))]):a("span",{staticClass:"ml-1"},[t._v("Не был собран")])])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("b",[t._v("Время последнего пула:")])]),a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12"},[e.isCloned?a("span",{staticClass:"ml-1"},[t._v(t._s(t._f("moment")(e.srcModifyTime,"DD.MM.YYYY HH:mm:ss")))]):a("span",{staticClass:"ml-1"},[t._v("Не был склонирован")])])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12 mb-1"},[a("button",{staticClass:"btn btn-block btn-primary",on:{click:function(a){t.buildModule(e.name)}}},[t._v("\n                                                    Собрать\n                                                ")])]),a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12 mb-1"},[a("button",{staticClass:"btn btn-block btn-primary",on:{click:function(a){t.pullModule(e.name)}}},[t._v("\n                                                    Обновить\n                                                ")])]),a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-12 mb-1"},[a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"moduleUpdate"+s,expression:"'moduleUpdate' + index"}],staticClass:"btn btn-block btn-primary",attrs:{id:"moduleUpdateButton"+s},on:{click:function(e){t.changeCollapseStatus("moduleUpdate"+s)}}},[t._v("\n                                                    Ручное обновление "),a("i",{staticClass:"fa",class:{"fa-angle-down":!t.collapseStatuses["moduleUpdate"+s],"fa-angle-up":t.collapseStatuses["moduleUpdate"+s]}})])])]),a("b-collapse",{ref:"moduleUpdate"+s,refInFor:!0,attrs:{id:"moduleUpdate"+s}},[a("div",{staticClass:"row mb-1"},[a("label",{staticClass:"col-xl-12 col-lg-12 col-12 col-form-label mb-1",attrs:{for:"module"+s+"update"}},[a("b",[t._v("Архив с исходниками для обновления:")])]),a("div",{staticClass:"col-xl-12 col-lg-12 col-12 mb-1"},[a("b-form-file",{attrs:{placeholder:"...",accept:".zip","drop-placeholder":"Перетащите архив сюда",id:"module"+s+"update"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("p",{staticClass:"card-text",staticStyle:{"font-size":"0.75rem",color:"rgba(16,8,13,0.54)"}},[t._v("Внутри архива должна быть папка, с именем модуля, например, fomodel")])],1)]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"offset-xl-8 offset-lg-8 offset-md-8 offset-sm-6 offset-0 col-xl-4 col-lg-4 col-md-4 col-sm-6 col-12"},[a("button",{staticClass:"btn btn-success btn-block",attrs:{disabled:!t.file},on:{click:function(a){t.ManualUpdateModule(e.name)}}},[t._v("Обновить")])])])])],1)],1)],1)],1)])])})):t._e()])])},ve=[],be={name:"Modules",data:function(){return{core:{},modules:[],file:null,collapseStatuses:{},_loader:null}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadData();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.getModules();case 4:a=t.sent,this.modules=a.dependencies,this.core=a.core,t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0)),this.modules=[],this.core={};case 14:e.hide();case 15:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),ManualUpdateModule:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",this.file),t.prev=2,this._loader=this.$loading.show(),t.next=6,this.$store.state.requestService.ManualUpdateModule(a,e);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 11:this._loader.hide(),delete this.file,this.file=null;case 14:case"end":return t.stop()}},t,this,[[2,8]])}));function e(e){return t.apply(this,arguments)}return e}(),pullModule:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this._loader=this.$loading.show(),t.next=4,this.$store.state.requestService.pullModule(e);case 4:return t.next=6,this.loadData();case 6:this.$toaster.success("Модуль ".concat(e," успешно обновлен")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 12:this._loader.hide();case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(e){return t.apply(this,arguments)}return e}(),buildModule:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this._loader=this.$loading.show(),t.next=4,this.$store.state.requestService.buildModule(e);case 4:return t.next=6,this.loadData();case 6:this.$toaster.success("Модуль ".concat(e," успешно собран")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 12:this._loader.hide();case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(e){return t.apply(this,arguments)}return e}(),runCore:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.core.isBuilt){t.next=4;break}return this.$toaster.warning("Необходимо собрать ядро для его запуска"),t.abrupt("return");case 4:return this._loader=this.$loading.show(),t.next=7,this.$store.state.requestService.runCore();case 7:return e=t.sent,t.next=10,this.loadData();case 10:e?this.$toaster.success("Ядро запущено"):this.$toaster.error("Не удалось запустить ядро"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 16:this._loader.hide();case 17:case"end":return t.stop()}},t,this,[[0,13]])}));function e(){return t.apply(this,arguments)}return e}(),stopCore:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this._loader=this.$loading.show(),t.next=4,this.$store.state.requestService.stopCore();case 4:return e=t.sent,t.next=7,this.loadData();case 7:e?this.$toaster.success("Ядро остановлено"):this.$toaster.error("Не удалось остановить ядро"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 13:this._loader.hide();case 14:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}(),pullMachine:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this._loader=this.$loading.show(),t.next=4,this.$store.state.requestService.pullMachine();case 4:return t.next=6,this.loadData();case 6:this.$toaster.success("Текущая конфигурация была успешно обновлена"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 12:this._loader.hide();case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),buildMachine:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this._loader=this.$loading.show(),t.next=4,this.$store.state.requestService.buildMachine();case 4:return t.next=6,this.loadData();case 6:this.$toaster.success("Текущая конфигурация была успешно собрана"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 12:this._loader.hide();case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),changeCollapseStatus:function(t){this.collapseStatuses[t]?this.collapseStatuses[t]=!this.collapseStatuses[t]:this.$set(this.collapseStatuses,t,!0)}}},ge=be,we=(a("7b40"),Object(d["a"])(ge,pe,ve,!1,null,"2f13ef1c",null));we.options.__file="Modules.vue";var Ce=we.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mt-2"},[a("label",{staticClass:"offset-md-2 col-md-3 col-form-label",attrs:{for:"oldPassword"}},[t._v("Текущий пароль")]),a("div",{staticClass:"col-md-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{type:"password",id:"oldPassword",placeholder:""},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})])]),a("div",{staticClass:"row mt-2"},[a("label",{staticClass:"offset-md-2 col-md-3 col-form-label",attrs:{for:"newPassword"}},[t._v("Новый пароль")]),a("div",{staticClass:"col-md-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password",id:"newPassword",placeholder:""},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})])]),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"offset-md-8 col-md-2",attrs:{align:"right"}},[a("button",{staticClass:"btn btn-success",on:{click:function(e){t.updatePassword()}}},[t._v("Обновить")])])])])},xe=[],ke={name:"ChangePassword",data:function(){return{oldPassword:"",newPassword:""}},methods:{updatePassword:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.changePassword(this.oldPassword,this.newPassword);case 4:this.$toaster.success("Password changed"),this.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 11:e.hide();case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}()}},ye=ke,Se=(a("0861"),Object(d["a"])(ye,_e,xe,!1,null,"0635d77b",null));Se.options.__file="ChangePassword.vue";var Pe=Se.exports,$e=a("2f62"),je=(a("6762"),a("2fdb"),a("a481"),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(v["a"])(this,t),this.count=e,this.result=a}),Re=function(){function t(e,a,s,r,n,o,i,c){Object(v["a"])(this,t),this.machineType=e,this.sourcesPath=a,this.buildsPath=s,this.uploadPath=r,this.qmakePath=n,this.sshName=o,this.repositoriesPlatform=i,this.possibleMachinesTypes=c}return Object(b["a"])(t,[{key:"toPythonDict",value:function(){return{type:this.machineType,sources_path:this.sourcesPath,builds_path:this.buildsPath,qmake_path:this.qmakePath,upload_path:this.uploadPath,ssh_key_name:this.sshName,repositories_platform:this.repositoriesPlatform}}}]),t}(),Oe=(a("0d6d"),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(v["a"])(this,t),this.id=e,this.time=a,this.type=s,this.title=r,this.message=n}),Ne={CRITICAL:0,WARNING:1,DEBUG:2,INFO:3};Object.freeze(Ne),Oe.LogLevel=Ne;var Te=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(v["a"])(this,t),this.id=e,this.latitude=a,this.longitude=s,this.time=r,this.value=n},Ie=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(v["a"])(this,t),this.points=e,this.centerLatitude=a,this.centerLongitude=s},De=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(v["a"])(this,t),this.count=e,this.result=a,this.dataStructure=s},Me=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var a in Object(v["a"])(this,t),this.data={},e)e.hasOwnProperty(a)&&(["time","latitude","longitude"].includes(a)?this[a]=e[a]:this.data[a]=e[a])},qe=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(v["a"])(this,t),this.systemName=e,this.name=a,this.fields=s},Ee=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(v["a"])(this,t),this.name=e,this.systemName=a,this.type=s},Ae=function t(e,a,s,r,n,o){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]&&arguments[9];Object(v["a"])(this,t),this.name=e,this.url=a,this.buildModifyTime=new Date(s),this.srcModifyTime=new Date(r),this.isBuilt=n,this.isCloned=o,this.index=i,this.configPath=c,this.executeName=l,this.isActive=u},ze=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(v["a"])(this,t),this.percent=e,this.free=a,this.used=s,this.total=r},Le=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ze,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ze;Object(v["a"])(this,t),this.ramInfo=e,this.swapInfo=a},Ue=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Le;Object(v["a"])(this,t),this.cpuInfo=e,this.diskInfo=a,this.memoryInfo=s},He=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;Object(v["a"])(this,t),this.result=e,this.minTime=a,this.maxTime=s,this.intervalStartTime=r,this.intervalEndTime=n,this.minimum=o,this.average=i,this.maximum=c},Fe=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(v["a"])(this,t),this.result=e,this.intervalStartTime=a,this.intervalEndTime=s,this.minimum=r,this.average=n,this.maximum=o},We=function(){function t(e,a,s,r){Object(v["a"])(this,t),this.ipv4address=e,this._ipv4method=a,this.ipv4gateway=s,this.ipv4dns=r}return Object(b["a"])(t,[{key:"toPythonDict",value:function(){return{"ipv4.address":this.ipv4address,"ipv4.method":this._ipv4method,"ipv4.gateway":this.ipv4gateway,"ipv4.dns":this.ipv4dns}}},{key:"ipv4method",get:function(){return"auto"===this._ipv4method},set:function(t){this._ipv4method=t?"auto":"manual"}}]),t}(),Be=function t(e,a,s,r,n,o){Object(v["a"])(this,t),this.name=e,this.id=a,this.device=s,this.active=r,this.autoconnect=n,this.requiredParams=new We(o["ipv4.addresses"],o["ipv4.method"],o["ipv4.gateway"],o["ipv4.dns"]),o.hasOwnProperty("ipv4.addresses")&&delete o["ipv4.addresses"],o.hasOwnProperty("ipv4.method")&&delete o["ipv4.method"],o.hasOwnProperty("ipv4.gateway")&&delete o["ipv4.gateway"],o.hasOwnProperty("ipv4.dns")&&delete o["ipv4.dns"],this.additionalParams=o},Ye=function t(e,a,s,r,n,o,i,c,l,u,d,m){Object(v["a"])(this,t),this.name=e,this.id=a,this.mode=s,this.channel=r,this.frequency=n,this.security=c,this.signalLevel=i,this.speedRate=o,this.channel=r,this.device=l,this.active=u,this.autoconnect=d,this.requiredParams=new We(m["ipv4.addresses"],m["ipv4.method"],m["ipv4.gateway"],m["ipv4.dns"]),m.hasOwnProperty("ipv4.addresses")&&delete m["ipv4.addresses"],m.hasOwnProperty("ipv4.method")&&delete m["ipv4.method"],m.hasOwnProperty("ipv4.gateway")&&delete m["ipv4.gateway"],m.hasOwnProperty("ipv4.dns")&&delete m["ipv4.dns"],this.additionalParams=m},Je=function(){function t(){Object(v["a"])(this,t)}return Object(b["a"])(t,null,[{key:"mapNetworksResponse",value:function(t){var e=t["wired"],a=t["wireless"];return{wiredNetworks:e.map(function(t){return new Be(t.name,t.id,t.device,t.active,t.autoconnect,t.params)}),wirelessNetworks:a.map(function(t){return new Ye(t.name,t.id,t.mode,t.channel,t.frequency,t.speed_rate,t.signal_level,t.security_type,t.device,t.active,t.autoconnect,t.params)})}}},{key:"mapServerInfoResponse",value:function(t){return{ok:t["ok"],robotType:t["robot_type"],robotName:t["robot_name"]}}},{key:"mapModulesResponse",value:function(t){var e=t.core,a=t.dependencies;return{core:new Ae(e.name,e.url,e.build_modify_time,e.src_modify_time,e.is_built,e.is_cloned,null,e.config_path,e.execute,e.is_active),dependencies:a.map(function(t){return new Ae(t.name,t.url,t.build_modify_time,t.src_modify_time,t.is_built,t.is_cloned,t.index,null,null)})}}},{key:"mapLogsResponse",value:function(t){var e=new je;return e.count=t.count,e.result=t.result.map(function(t){return new Oe(t.id,new Date(t.time),t.type,t.title,t.message)}),e}},{key:"mapTableDataResponse",value:function(t){var e=new De;return e.count=t.count,e.result=t.result.map(function(t){return new Me(t)}),t["data_structure"]&&(e.dataStructure=this.mapDataStructureResponse(t["data_structure"])),e}},{key:"mapServerSettingsResponse",value:function(t){return new Re(t["type"],t["sources_path"],t["builds_path"],t["upload_path"],t["qmake_path"],t["ssh_key_name"],t["repositories_platform"],t["possible_machines_types"])}},{key:"mapInitChartDataResponse",value:function(t){var e=new He;return e.result=t.result.map(function(t){return new Te(t.id,t.latitude,t.longitude,new Date(t.time),t.value)}),e.minTime=new Date(t["min_time"]),e.maxTime=new Date(t["max_time"]),e.intervalStartTime=new Date(t["interval_start_time"]),e.intervalEndTime=new Date(t["interval_end_time"]),e.minimum=t.minimum,e.average=t.average,e.maximum=t.maximum,e}},{key:"mapFilterChartDataResponse",value:function(t){var e=new Fe;return e.result=t.result.map(function(t){return new Te(t.id,t.latitude,t.longitude,new Date(t.time),t.value)}),e.intervalStartTime=new Date(t["interval_start_time"]),e.intervalEndTime=new Date(t["interval_end_time"]),e.minimum=t.minimum,e.average=t.average,e.maximum=t.maximum,e}},{key:"mapPageChartDataResponse",value:function(t){return t.map(function(t){return new Te(t.id,t.latitude,t.longitude,new Date(t.time),t.value)})}},{key:"mapDataStructureResponse",value:function(t){return t.map(function(t){return new Ee(t.name,t.system_name,t.type)})}},{key:"mapDatabasesInfoResponse",value:function(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(new qe(a,t[a]["name"],t[a]["fields"].map(function(t){return{name:t.name,type:t.type}})));return e}},{key:"mapMapsDataResponse",value:function(t){return Array.isArray(t)?t.map(function(t){return{name:t["name"],systemName:t["system_name"]}}):new Ie(t["points"].map(function(t){var e={latitude:t.latitude,longitude:t.longitude,count:t.count,average:{}};for(var a in t.average)t.average.hasOwnProperty(a)&&(e.average[a]={name:t.average[a].name,value:t.average[a].value});return e}),t["center_latitude"],t["center_longitude"])}},{key:"mapSystemInfoResponse",value:function(t){function e(t){var e={};for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function a(t){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push({name:a,info:new ze(t[a].percent,t[a].free,t[a].used,t[a].total)});return e}function s(t){var e=new ze(t["ram_info"].percent,t["ram_info"].free,t["ram_info"].used,t["ram_info"].total),a=new ze(t["swap_info"].percent,t["swap_info"].free,t["swap_info"].used,t["swap_info"].total);return new Le(e,a)}return t["memory"]?new Ue(e(t["cpu"]),a(t["disk"]),s(t["memory"])):e(t)}}]),t}(),Ve=function(){function t(e){Object(v["a"])(this,t),this._serverUrl="http://".concat(e),J.a.defaults.validateStatus=function(t){return 401!==t&&t<=500}}return Object(b["a"])(t,[{key:"_persistConnectionInfo",value:function(){var t=J.a.defaults.headers.common["authorization"],e=this._shortServerUrl;s["a"].prototype.$cookies.set("toolBeltAuthToken",t,N.cookiesTTL),s["a"].prototype.$cookies.set("toolbeltServerUrl",e,N.cookiesTTL)}},{key:"_changeHostUrl",value:function(t){this._serverUrl="http://".concat(t),this._shortServerUrl=t}},{key:"_constructPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?"http://".concat(e,"/").concat(t):"".concat(this._serverUrl,"/").concat(t)}},{key:"_deleteAuthHeader",value:function(){M.info("Deleting auth token"),delete J.a.defaults.headers.common["authorization"]}},{key:"_setAuthHeader",value:function(t){M.info("Setting new token ".concat(t)),J.a.defaults.headers.common["authorization"]=t}},{key:"_authorize",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/login"),t.next=3,J.a.post(a,{password:e});case 3:if(s=t.sent,200!==s.status){t.next=9;break}return r=s.data,t.abrupt("return",r.token);case 9:throw M.info(s.data.errorInfo),new x(s.data.errorInfo,s.response.status);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"_deauthorize",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/logout"),t.next=3,J.a.get(e);case 3:if(a=t.sent,200!==a.status){t.next=8;break}return t.abrupt("return",!0);case 8:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"_changePassword",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var s,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=this._constructPath("api/password"),t.next=3,J.a.post(s,{oldPassword:e,newPassword:a});case 3:if(r=t.sent,200!==r.status){t.next=9;break}return n=r.data,t.abrupt("return",n.token);case 9:throw M.error(r.data.errorInfo),new x(r.data.errorInfo,r.status);case 11:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getServerInfo",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,s,r,n=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:null,a=!(n.length>1&&void 0!==n[1])||n[1],s=this._constructPath("api/utils/info",e),t.next=5,J.a.get(s,{timeout:1e3});case 5:if(r=t.sent,200!==r.status){t.next=11;break}return a&&this._persistConnectionInfo(),t.abrupt("return",Je.mapServerInfoResponse(r.data));case 11:throw M.error(r.data.errorInfo),new x(r.data.errorInfo,r.status);case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getNetworks",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/network"),t.next=3,J.a.get(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapNetworksResponse(a.data));case 9:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getModules",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/modules"),t.next=3,J.a.get(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapModulesResponse(a.data));case 9:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"createWifiConnection",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=this._constructPath("api/network/create_wifi_connection"),t.next=3,J.a.post(s,{name:e,password:a});case 3:if(r=t.sent,200!==r.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(r.data.errorInfo),new x(r.data.errorInfo,r.status);case 11:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"connectionUp",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/network/connection/up/".concat(e)),t.next=3,J.a.get(a);case 3:if(s=t.sent,200!==s.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(s.data.errorInfo),new x(s.data.errorInfo,s.status);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"deleteConnection",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/network/connection/".concat(e)),t.next=3,J.a.delete(a);case 3:if(s=t.sent,200!==s.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(s.data.errorInfo),new x(s.data.errorInfo,s.status);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"deleteAllWirelessConnections",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/network/connection/drop_all_wireless"),t.next=3,J.a.delete(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"modifyConnectionParams",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=this._constructPath("api/network/connection/".concat(e)),t.next=3,J.a.put(s,a);case 3:if(r=t.sent,200!==r.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(r.data.errorInfo),new x(r.data.errorInfo,r.status);case 11:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getServerConfig",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/server_config"),t.next=3,J.a.get(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapServerSettingsResponse(a.data));case 9:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"runCore",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/core/run"),t.next=3,J.a.post(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",a.data.ok);case 9:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"stopCore",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/core/stop"),t.next=3,J.a.post(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",a.data.ok);case 9:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"setServerConfig",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/server_config"),t.next=3,J.a.post(a,e);case 3:if(s=t.sent,200!==s.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(s.data.errorInfo),new x(s.data.errorInfo,s.status);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getCoreConfig",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/core_config"),t.next=3,J.a.get(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",a.data);case 9:throw M.error(a.data.errorInfo),new x(a.data.errorInfo,a.status);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"setCoreConfig",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/config"),t.next=3,J.a.post(a,e);case 3:if(s=t.sent,200!==s.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(s.data.errorInfo),new x(s.data.errorInfo,s.status);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getLogs",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,n,o,i,c,l,u,d,m=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=m.length>1&&void 0!==m[1]?m[1]:1,s=m.length>2&&void 0!==m[2]?m[2]:0,r=m.length>3&&void 0!==m[3]?m[3]:null,n=m.length>4&&void 0!==m[4]?m[4]:null,o=m.length>5&&void 0!==m[5]?m[5]:null,i=m.length>6&&void 0!==m[6]?m[6]:null,c=m.length>7&&void 0!==m[7]?m[7]:null,l=this._constructPath("api/monitoring/logs/".concat(e)),u={},u["filter"]={},u["sort"]={},null!=r&&(u["filter"]["start_time"]=r,"string"!==typeof u["filter"]["start_time"]&&(u["filter"]["start_time"]=u["filter"]["start_time"].toISOString())),null!=n&&(u["filter"]["end_time"]=n.toISOString(),"string"!==typeof u["filter"]["end_time"]&&(u["filter"]["end_time"]=u["filter"]["end_time"].toISOString())),null!=o&&(u["filter"]["type"]=o),null!=i&&(u["sort"]["time"]=i?1:0),null!=c&&(u["sort"]["type"]=c?1:0),null!=a&&(u["limit"]=a),null!=s&&(u["offset"]=s),M.debug("POST request: get logs"),M.debug("Path: ".concat(l)),M.debug("Body: ".concat(JSON.stringify(u))),t.next=23,J.a.post(l,u);case 23:if(d=t.sent,200!==d.status){t.next=29;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapLogsResponse(d.data));case 29:throw M.error(d.data.errorInfo),new x(d.data.errorInfo,d.status);case 31:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getStatisticsDataStructure",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=this._constructPath("api/monitoring/structure/".concat(e,"/").concat(a)),M.debug("GET request: get statistics data structure"),M.debug("Path: ".concat(s)),t.next=5,J.a.get(s);case 5:if(r=t.sent,200!==r.status){t.next=11;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapDataStructureResponse(r.data));case 11:throw M.error(r.data.errorInfo),new x(r.data.errorInfo,r.status);case 13:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getStatisticsDatabasesInfo",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/monitoring/databases_info/".concat(e)),M.debug("GET request: get statistics databases info"),M.debug("Path: ".concat(a)),t.next=5,J.a.get(a);case 5:if(s=t.sent,200!==s.status){t.next=11;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapDatabasesInfoResponse(s.data));case 11:throw M.error(s.data.errorInfo),new x(s.data.errorInfo,s.status);case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getStatisticsInitChartData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a,s,r){var n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this._constructPath("api/monitoring/chart_data/".concat(e,"/").concat(a,"/").concat(s,"?interval_size=").concat(r)),M.debug("GET request: get statistics init chart data"),M.debug("Path: ".concat(n)),t.next=5,J.a.get(n);case 5:if(o=t.sent,200!==o.status){t.next=11;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapInitChartDataResponse(o.data));case 11:throw M.error(o.data.errorInfo),new x(o.data.errorInfo,o.status);case 13:case"end":return t.stop()}},t,this)}));function e(e,a,s,r){return t.apply(this,arguments)}return e}()},{key:"getStatisticsFilterChartData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a,s,r,n,o){var i,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=this._constructPath("api/monitoring/chart_data/".concat(e,"/").concat(a,"/").concat(s)),"string"!==typeof r&&(r=r.toISOString()),"string"!==typeof n&&(n=n.toISOString()),c={},c["min_time"]=r,c["max_time"]=n,c["interval_size"]=o,M.debug("POST request: get statistics filter chart data"),M.debug("Path: ".concat(i)),M.debug("Body: ".concat(JSON.stringify(c))),t.next=12,J.a.post(i,c);case 12:if(l=t.sent,200!==l.status){t.next=18;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapFilterChartDataResponse(l.data));case 18:throw M.error(l.data.errorInfo),new x(l.data.errorInfo,l.status);case 20:case"end":return t.stop()}},t,this)}));function e(e,a,s,r,n,o){return t.apply(this,arguments)}return e}()},{key:"getStatisticsPageChartData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a,s,r,n){var o,i,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=this._constructPath("api/monitoring/chart_data/".concat(e,"/").concat(a,"/").concat(s,"?page=true")),"string"!==typeof r&&(r=r.toISOString()),"string"!==typeof n&&(n=n.toISOString()),i={},i["interval_start_time"]=r,i["interval_end_time"]=n,M.debug("POST request: get statistics page chart data"),M.debug("Path: ".concat(o)),M.debug("Body: ".concat(JSON.stringify(i))),t.next=11,J.a.post(o,i);case 11:if(c=t.sent,200!==c.status){t.next=17;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapPageChartDataResponse(c.data));case 17:throw M.error(c.data.errorInfo),new x(c.data.errorInfo,c.status);case 19:case"end":return t.stop()}},t,this)}));function e(e,a,s,r,n){return t.apply(this,arguments)}return e}()},{key:"getStatisticsTableData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var s,r,n,o,i,c,l,u,d,m,f,h,p=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(u in s=p.length>2&&void 0!==p[2]?p[2]:1,r=p.length>3&&void 0!==p[3]?p[3]:0,n=p.length>4&&void 0!==p[4]&&p[4],o=p.length>5&&void 0!==p[5]?p[5]:{},i=p.length>6&&void 0!==p[6]?p[6]:{},c=this._constructPath("api/monitoring/table_data/".concat(e,"/").concat(a)),l={},l["filter"]={},l["sort"]={},l["extended"]=n,null!=s&&(l["limit"]=s),null!=r&&(l["offset"]=r),o)o.hasOwnProperty(u)&&(d=u.replace(/([A-Z])/g,"_$1").toLowerCase(),l["filter"][d]=o[u],["startTime","endTime"].includes(u)&&l["filter"][d]&&"string"!==typeof l["filter"][d]&&(l["filter"][d]=l["filter"][d].toISOString()));for(m in i)i.hasOwnProperty(m)&&(f=m.replace(/([A-Z])/g,"_$1").toLowerCase(),l["sort"][f]=i[m]);return M.debug("POST request: get logs"),M.debug("Path: ".concat(c)),M.debug("Body: ".concat(JSON.stringify(l))),t.next=19,J.a.post(c,l);case 19:if(h=t.sent,200!==h.status){t.next=25;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapTableDataResponse(h.data));case 25:throw M.error(h.data.errorInfo),new x(h.data.errorInfo,h.status);case 27:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getSystemInfo",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=!(r.length>0&&void 0!==r[0])||r[0],a=this._constructPath("api/monitoring/system_info?extended=".concat(e)),M.debug("GET request: get system info"),M.debug("Path: ".concat(a)),t.next=6,J.a.get(a);case 6:if(s=t.sent,200!==s.status){t.next=12;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapSystemInfoResponse(s.data));case 12:throw M.error(s.data.errorInfo),new x(s.data.errorInfo,s.status);case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getStatisticsMapsData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a,s){var r,n,o,i,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=c.length>3&&void 0!==c[3]?c[3]:{},n=this._constructPath("api/monitoring/maps_data/".concat(e,"/").concat(a)),o=null,!s){t.next=11;break}return M.debug("GET request: get statistics maps data"),M.debug("Path: ".concat(n)),t.next=8,J.a.get(n);case 8:o=t.sent,t.next=19;break;case 11:return M.debug("POST request: get statistics maps data"),M.debug("Path: ".concat(n)),i={},null!=r.startTime&&(i["start_time"]=r.startTime,"string"!==typeof i["start_time"]&&(i["start_time"]=i["start_time"].toISOString())),null!=r.endTime&&(i["end_time"]=r.endTime,"string"!==typeof i["end_time"]&&(i["end_time"]=i["end_time"].toISOString())),t.next=18,J.a.post(n,i);case 18:o=t.sent;case 19:if(200!==o.status){t.next=24;break}return this._persistConnectionInfo(),t.abrupt("return",Je.mapMapsDataResponse(o.data));case 24:throw M.error(o.data.errorInfo),new x(o.data.errorInfo,o.status);case 26:case"end":return t.stop()}},t,this)}));function e(e,a,s){return t.apply(this,arguments)}return e}()},{key:"ManualUpdateModule",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=this._constructPath("api/manual_module_update/".concat(a)),M.debug("POST request: upload file"),M.debug("Path: ".concat(s)),t.next=5,J.a.post(s,e,{headers:{"Content-Type":"multipart/form-data"}});case 5:if(r=t.sent,200!==r.status){t.next=11;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 11:throw M.error("Can't upload file"),new x(r.data.errorInfo,r.status);case 13:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"pullModule",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/pull_module/".concat(e)),t.next=3,J.a.get(a);case 3:if(s=t.sent,200!==s.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw new x(s.data.errorInfo,s.status);case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"buildModule",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/build_module/".concat(e)),t.next=3,J.a.get(a);case 3:if(s=t.sent,200!==s.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw new x(s.data.errorInfo,s.status);case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"buildMachine",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/build_machine"),t.next=3,J.a.post(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw new x(a.data.errorInfo,a.status);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"pullMachine",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this._constructPath("api/pull_machine"),t.next=3,J.a.post(e);case 3:if(a=t.sent,200!==a.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw new x(a.data.errorInfo,a.status);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"uploadSSHArchive",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=this._constructPath("api/update_ssh"),t.next=3,J.a.post(a,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(s=t.sent,200!==s.status){t.next=9;break}return this._persistConnectionInfo(),t.abrupt("return",!0);case 9:throw M.error(s.data.errorInfo),new x(s.data.errorInfo,s.status);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}]),t}();s["a"].use($e["a"]);var Ge=new $e["a"].Store({state:{authToken:null,url:N.backendUrl,requestService:new Ve(N.backendUrl),robotName:null,robotLabel:"UNK"},getters:{isAuthenticated:function(t){return!!t.authToken},isServerConnected:function(t){return!!t.robotName}},mutations:{setAuthToken:function(t,e){s["a"].prototype.$cookies.set("toolBeltAuthToken",e,"10MIN"),this.state.authToken=e,this.state.requestService._setAuthHeader(e)},deleteAuthToken:function(t){s["a"].prototype.$cookies.remove("toolBeltAuthToken"),this.state.authToken=null,this.state.requestService._deleteAuthHeader()},changeHostAddress:function(t,e){this.state.url=e,this.state.requestService._changeHostUrl(this.state.url)},setRobotName:function(t,e){this.state.robotName=e},setRobotLabel:function(t,e){this.state.robotLabel=e}},actions:{authorize:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.state.requestService._authorize(a);case 2:s=t.sent,s&&this.commit("setAuthToken",s);case 4:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),deauthorize:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.state.requestService._deauthorize();case 2:a=t.sent,a&&this.commit("deleteAuthToken");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changePassword:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,a,s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.state.requestService._changePassword(a,s);case 2:r=t.sent,r&&this.commit("setAuthToken",r);case 4:case"end":return t.stop()}},t,this)}));function e(e,a,s){return t.apply(this,arguments)}return e}(),initUrl:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var a,r,n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.state.robotName){t.next=23;break}if(a=s["a"].prototype.$cookies.get("toolbeltServerUrl"),t.prev=2,!this.state.url){t.next=10;break}return t.next=6,this.state.requestService.getServerInfo(null,!1);case 6:r=t.sent,r.ok&&(this.commit("setRobotName",r.robotType),this.commit("setRobotLabel",r.robotName)),t.next=19;break;case 10:if(!a||"undefined"===a){t.next=18;break}return n=a,t.next=14,this.state.requestService.getServerInfo(n,!1);case 14:o=t.sent,o.ok&&(this.commit("changeHostAddress",n),this.commit("setRobotName",o.robotType),this.commit("setRobotLabel",o.robotName)),t.next=19;break;case 18:M.info("Can't find persisted url. Need to connect.");case 19:t.next=23;break;case 21:t.prev=21,t.t0=t["catch"](2);case 23:case"end":return t.stop()}},t,this,[[2,21]])}));function e(e){return t.apply(this,arguments)}return e}()}}),Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("h2",{staticClass:"mb-3",attrs:{align:"center"}},[t._v("Группы данных мониторинга")]),t._l(t.databasesInfo,function(e,s){return a("div",{key:e.systemName,staticClass:"row",staticStyle:{margin:"auto"}},[a("div",{staticClass:"offset-md-1 offset-lg-2 offset-xl-3 col-12 col-sm-12 col-md-10 col-lg-8 col-xl-6"},[a("b-card",{attrs:{"no-body":""}},[a("b-card-header",{attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:e.systemName,expression:"elem.systemName"}],attrs:{block:"",href:"#",variant:"info"}},[t._v(t._s(e.name))])],1),a("b-collapse",{attrs:{visible:0===s,id:e.systemName,accordion:"charts-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"},[a("button",{staticClass:"btn btn-primary btn-block mb-2",attrs:{type:"button"},on:{click:function(a){t.toCharts(e.systemName)}}},[t._v("\n                                        Графики\n                                    ")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"},[a("button",{staticClass:"btn btn-primary btn-block mb-2",attrs:{type:"button"},on:{click:function(a){t.toTables(e.systemName)}}},[t._v("\n                                        Таблицы\n                                    ")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"},[a("button",{staticClass:"btn btn-primary btn-block mb-2",attrs:{type:"button"},on:{click:function(a){t.toMaps(e.systemName)}}},[t._v("\n                                        Карты\n                                    ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"table-container"},[a("table",{staticClass:"custom-table"},[a("thead",{staticClass:"custom-table-header"},[a("tr",[a("th",[t._v("№")]),a("th",[t._v("Поле")]),a("th",[t._v("Тип")])])]),a("tbody",{staticClass:"custom-table-body"},t._l(e.fields,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(t._f("typeToHuman")(e.type)))])])}))])])])])])],1)],1)],1)])})],2)},Ze=[],Qe={name:"MonitoringNavigation",data:function(){return{robotName:null,databasesInfo:[]}},methods:{loadDatabasesInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.robotName=e.$store.state.robotName,t.next=3,e.$store.state.requestService.getStatisticsDatabasesInfo(e.robotName);case 3:e.databasesInfo=t.sent;case 4:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toCharts:function(t){this.$router.push("/chart_statistics?dbName=".concat(t))},toTables:function(t){this.$router.push("/table_statistics?dbName=".concat(t))},toMaps:function(t){this.$router.push("/maps_statistics?dbName=".concat(t))}},mounted:function(){this.loadDatabasesInfo()},filters:{typeToHuman:function(t){switch(t){case"number":return"Число";case"string":return"Строка";default:return"Неизвестно"}}}},Xe=Qe,ta=(a("f519"),Object(d["a"])(Xe,Ke,Ze,!1,null,"dcef77f6",null));ta.options.__file="MonitoringNavigation.vue";var ea=ta.exports,aa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row",staticStyle:{margin:"auto"}},[s("div",{staticClass:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-2"},[s("h4",{attrs:{align:"center"}},[t._v("Нагрузка процессора")]),s("div",{staticStyle:{"max-width":"600px","margin-left":"auto","margin-right":"auto"}},[t.chartData?s("line-chart",{attrs:{"chart-data":t.chartData,options:t.chartOptions}}):t._e()],1)]),s("div",{staticClass:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},[s("h4",{attrs:{align:"center"}},[t._v("Точки монтирования")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 pb-3"},[t.memoryInfo?s("b-card",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-sm-2 col-md-3 col-lg-3 col-xl-3"},[s("img",{attrs:{src:a("460a"),width:"100%",height:"100%",alt:"ram image"}})]),s("div",{staticClass:"col-10 col-sm-10 col-md-9 col-lg-9 col-xl-9 flexbox"},[s("div",[s("h5",{staticClass:"custom-card-header"},[t._v("RAM")])]),s("div",[s("capacity-component",{attrs:{"percent-value":t.memoryInfo.ramInfo.percent,"free-value":t.memoryInfo.ramInfo.free,"max-value":t.memoryInfo.ramInfo.total}})],1)])])]):t._e()],1),s("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 pb-3"},[t.memoryInfo?s("b-card",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-sm-2 col-md-3 col-lg-3 col-xl-3"},[s("img",{attrs:{src:a("3fb0"),width:"100%",height:"100%",alt:"swap image"}})]),s("div",{staticClass:"col-10 col-sm-10 col-md-9 col-lg-9 col-xl-9 flexbox"},[s("div",[s("h5",{staticClass:"custom-card-header"},[t._v("Swap")])]),s("div",[s("capacity-component",{attrs:{"percent-value":t.memoryInfo.swapInfo.percent,"free-value":t.memoryInfo.swapInfo.free,"max-value":t.memoryInfo.swapInfo.total}})],1)])])]):t._e()],1),t._l(t.diskInfo,function(e,r){return s("div",{key:r,staticClass:"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 pb-3 pt-3"},[s("b-card",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 col-sm-2 col-md-3 col-lg-3 col-xl-3"},[s("img",{attrs:{src:a("2c1d"),width:"100%",height:"100%",alt:"disk image"}})]),s("div",{staticClass:"col-10 col-sm-10 col-md-9 col-lg-9 col-xl-9 flexbox"},[s("div",[s("h5",{staticClass:"custom-card-header"},[t._v(t._s(e.name))])]),s("div",[s("capacity-component",{attrs:{"percent-value":e.info.percent,"free-value":e.info.free,"max-value":e.info.total}})],1)])])])],1)})],2)])])])},sa=[],ra=(a("6b54"),a("2909")),na=(a("6c7b"),a("456d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-1"},[a("div",[a("b-progress",{style:{background:t.backgroundColor},attrs:{value:t.percentValue,variant:t._f("variantType")(t.percentValue)}})],1),a("div",{staticStyle:{"font-size":"smaller"},attrs:{align:"center"}},[t._v("\n            "+t._s(t.bytesToHumanMeasure(t.freeValue))+" свободно из "+t._s(t.bytesToHumanMeasure(t.maxValue))+"\n        ")])])}),oa=[],ia={name:"CapacityComponent",props:{percentValue:{type:Number,required:!0},freeValue:{type:Number,required:!0},maxValue:{type:Number,required:!0},floatPrecision:{type:Number,default:1},backgroundColor:{type:String,default:"#cbcbcb"}},methods:{bytesToHumanMeasure:function(t){if(!t)return"";var e=parseInt(t),a=0;while(1)if(e/=1024,a++,e<1024||a>=4)break;switch(e=e.toFixed(this.floatPrecision).toString(),a){case 0:e="".concat(e," б");break;case 1:e="".concat(e," Кб");break;case 2:e="".concat(e," Мб");break;case 3:e="".concat(e," Гб");break;case 4:e="".concat(e," Тб");break}return e}},filters:{variantType:function(t){return t>80?"danger":t>60?"warning":t>40?"info":"success"}}},ca=ia,la=(a("adda"),Object(d["a"])(ca,na,oa,!1,null,"de319566",null));la.options.__file="CapacityComponent.vue";var ua=la.exports,da={name:"SystemInfo",components:{CapacityComponent:ua,LineChart:wt["a"]},data:function(){return{diskInfo:[],memoryInfo:null,chartData:null,chartOptions:ma,elementsPerChart:30,_intervalFunction:null}},methods:{loadFullInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loader=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var a,s,r,n,o,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.state.requestService.getSystemInfo();case 2:for(a=t.sent,e.diskInfo=a.diskInfo,e.memoryInfo=a.memoryInfo,s=Object.keys(a.cpuInfo),s.sort(),e.chartData={datasets:[],labels:Array(e.elementsPerChart).fill("")},r=0;r<s.length;r++)n=s[r],a.cpuInfo.hasOwnProperty(n)&&(o=e.getRandomColor(),i=JSON.parse(JSON.stringify(fa)),i.label=n,i.backgroundColor=o,i.borderColor=o,i.data=Object(ra["a"])(Array(e.elementsPerChart-1).fill(null)).concat([a.cpuInfo[n]]),e.chartData.datasets.push(i));case 9:case"end":return t.stop()}},t,this)})));case 3:this.loader.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),loadCpuInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var a,s,r,n,o,i,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.state.requestService.getSystemInfo(!1);case 2:if(a=t.sent,s=Object.keys(a),e.chartData.datasets.length===s.length){t.next=6;break}throw new ct("Cpu info: CPU's count didn't match");case 6:for(s.sort(),r=e.chartData.datasets.slice(),e.chartData={datasets:[],labels:e.chartData.labels},n=0,o=0;o<s.length;o++)i=s[o],a.hasOwnProperty(i)&&(c=r[n].backgroundColor,l=JSON.parse(JSON.stringify(fa)),l.label=i,l.backgroundColor=c,l.borderColor=c,l.data=Object(ra["a"])(r[n++].data.slice(-(e.elementsPerChart-1))).concat([a[i]]),e.chartData.datasets.push(l));case 11:case"end":return t.stop()}},t,this)})));case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getRandomColor:function(){return"#"+(16777216+16777215*Math.random()).toString(16).substr(1,6)}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadFullInfo();case 2:this._intervalFunction=setInterval(this.loadCpuInfo,1e3);case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){clearInterval(this._intervalFunction),delete this._intervalFunction}},ma={animation:!1,scales:{yAxes:[{ticks:{max:100,min:0,stepSize:10}}]},hover:{mode:"nearest",intersect:!0},legend:{position:"bottom",fullWidth:!0,reverse:!1}},fa={borderWidth:3,fill:!1,lineTension:0,borderCapStyle:"round",borderJoinStyle:"round",pointRadius:3,pointHoverRadius:4,pointHitRadius:10,pointBorderWidth:2},ha=da,pa=(a("ea87"),Object(d["a"])(ha,aa,sa,!1,null,"5b87c90e",null));pa.options.__file="SystemInfo.vue";var va=pa.exports,ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[t._m(0),a("divider",{staticClass:"mb-2"},[a("h5",{attrs:{align:"center"}},[t._v("Конфигурация подключения к серверу")])]),a("div",{staticClass:"row mb-3",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1 col-xl-10 offset-xl-1"},[a("app-server-connection")],1)]),a("divider",{staticClass:"mb-2"},[a("h5",{attrs:{align:"center"}},[t._v("Конфигурация сервера")])]),a("div",{staticClass:"row mb-3",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1 col-xl-10 offset-xl-1"},[a("app-server-config")],1)]),a("divider",{staticClass:"mb-2"},[a("h5",{attrs:{align:"center"}},[t._v("Конфигурация ssh ключей")])]),a("div",{staticClass:"container-fluid mb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1 col-xl-10 offset-xl-1"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"ssh"}},[t._v("Новые ssh ключи:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12 "},[a("b-form-file",{attrs:{id:"ssh",placeholder:"Загрузить архив",accept:".zip","drop-placeholder":"Перетащите архив сюда"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("p",{staticClass:"card-text",staticStyle:{"font-size":"0.75rem",color:"rgba(16,8,13,0.54)"}},[t._v("Передайте файл ssh.zip, внутри которого будет папка ssh, содержащая ssh-ключи.\n                                    Все имеющиеся на удаленной машине ключи будут удалены")])],1)]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 offset-xl-6 col-lg-3 offset-lg-6 col-sm-6 offset-0 col-12 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){t.resetSSH()}}},[t._v("\n                                    Сбросить\n                                ")])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-sm-6 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.updateSSH()}}},[t._v("\n                                    Обновить\n                                ")])])])])])])]),a("divider",{staticClass:"mb-2"},[a("h5",{attrs:{align:"center"}},[t._v("Смена пароля")])]),a("div",{staticClass:"container-fluid mb-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1 col-xl-10 offset-xl-1"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"oldPassword"}},[t._v("Текущий пароль:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{type:"password",id:"oldPassword",placeholder:"Введите текущий пароль"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"newPassword"}},[t._v("Новый пароль:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password",id:"newPassword",placeholder:"Введите новый пароль"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"newPasswordAgain"}},[t._v("Повторно новый пароль:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPasswordAgain,expression:"newPasswordAgain"}],staticClass:"form-control",attrs:{type:"password",id:"newPasswordAgain",placeholder:"Повторно введите новый пароль"},domProps:{value:t.newPasswordAgain},on:{input:function(e){e.target.composing||(t.newPasswordAgain=e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 offset-xl-6 col-lg-3 offset-lg-6 col-sm-6 offset-0 col-12 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){t.resetPassword()}}},[t._v("\n                                    Сбросить\n                                ")])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-sm-6 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.updatePassword()}}},[t._v("\n                                    Обновить\n                                ")])])])])])])])],1)},ga=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3",staticStyle:{margin:"auto"}},[a("div",{staticClass:"col-12",attrs:{align:"center"}},[a("h2",[t._v("Настройки сервера")])])])}],wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"hostAddress"}},[t._v("Адрес сервера: ")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{type:"text",id:"hostAddress",placeholder:"Введите адрес сервера host:port"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"offset-xl-3 col-xl-3 col-12 offset-lg-3 col-lg-3 col-md-4 mt-1"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){t.setClientUrl()}}},[t._v("\n                    Ввести адрес клиента\n                ")])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-12 col-md-4 mt-1"},[a("button",{staticClass:"btn btn-info btn-block",on:{click:function(e){t.checkConnectionStatus()}}},[t._v("\n                    Проверить адрес\n                ")])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-12 col-md-4 mt-1"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.changeHostAddress()}}},[t._v("\n                    Подключить\n                ")])])])])},Ca=[],_a=(a("28a5"),{name:"ServerConnect",data:function(){return{url:this.$store.state.url}},methods:{checkConnectionStatus:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.$store.state.requestService.getServerInfo(a.url);case 2:e=t.sent,e.ok?a.$toaster.info("Сервер ".concat(a.url," доступен")):a.$toaster.error("Сервер ".concat(a.url," недоступен"));case 4:case"end":return t.stop()}},t,this)})));case 3:e.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeHostAddress:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("changeHostAddress",this.url),t.prev=1,t.next=4,this.$store.state.requestService.getServerInfo();case 4:e=t.sent,this.$emit("changedHost"),e.ok&&(this.$store.commit("setRobotName",e.robotType),this.$store.commit("setRobotLabel",e.robotName),this.$toaster.success("Успешно подключено")),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),this.$store.commit("setRobotName",null),this.$store.commit("setRobotLabel","UNK"),this.$toaster.error("Не удалось подключиться");case 14:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}(),setClientUrl:function(){var t=window.location.origin.split("://")[1];this.url=t.split(":")[0]+":5000"}}}),xa=_a,ka=(a("b3ac"),Object(d["a"])(xa,wa,Ca,!1,null,"c5c3aefa",null));ka.options.__file="ServerConnect.vue";var ya=ka.exports,Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"sourcesPath"}},[t._v("Путь до папки исходников:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.sourcesPath,expression:"data.sourcesPath"}],staticClass:"form-control",attrs:{type:"text",id:"sourcesPath",placeholder:"..."},domProps:{value:t.data.sourcesPath},on:{input:function(e){e.target.composing||t.$set(t.data,"sourcesPath",e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"buildsPath"}},[t._v("Путь до папки сборки:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.buildsPath,expression:"data.buildsPath"}],staticClass:"form-control",attrs:{type:"text",id:"buildsPath",placeholder:"..."},domProps:{value:t.data.buildsPath},on:{input:function(e){e.target.composing||t.$set(t.data,"buildsPath",e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"uploadPath"}},[t._v("Путь до папки загрузки:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.uploadPath,expression:"data.uploadPath"}],staticClass:"form-control",attrs:{type:"text",id:"uploadPath",placeholder:"..."},domProps:{value:t.data.uploadPath},on:{input:function(e){e.target.composing||t.$set(t.data,"uploadPath",e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"qmakePath"}},[t._v("Путь до qmake:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.qmakePath,expression:"data.qmakePath"}],staticClass:"form-control",attrs:{type:"text",id:"qmakePath",placeholder:"..."},domProps:{value:t.data.qmakePath},on:{input:function(e){e.target.composing||t.$set(t.data,"qmakePath",e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"sshName"}},[t._v("Имя файла ssh ключа:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.sshName,expression:"data.sshName"}],staticClass:"form-control",attrs:{type:"text",id:"sshName",placeholder:"..."},domProps:{value:t.data.sshName},on:{input:function(e){e.target.composing||t.$set(t.data,"sshName",e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"repositoriesPlatform"}},[t._v("Платформа git:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.repositoriesPlatform,expression:"data.repositoriesPlatform"}],staticClass:"form-control",attrs:{type:"text",id:"repositoriesPlatform",placeholder:"..."},domProps:{value:t.data.repositoriesPlatform},on:{input:function(e){e.target.composing||t.$set(t.data,"repositoriesPlatform",e.target.value)}}})])]),a("div",{staticClass:"row mb-2"},[a("label",{staticClass:"col-xl-3 col-lg-3 col-form-label",attrs:{for:"machineType"}},[t._v("Тип машинки:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("b-form-select",{attrs:{id:"machineType",options:t.data.possibleMachinesTypes},model:{value:t.data.machineType,callback:function(e){t.$set(t.data,"machineType",e)},expression:"data.machineType"}})],1)]),a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-xl-3 offset-xl-6 col-lg-3 offset-lg-6 col-sm-6 offset-0 col-12 mb-1"},[a("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){t.ResetConfig()}}},[t._v("\n                    Сбросить\n                ")])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-sm-6 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.UpdateConfig()}}},[t._v("\n                    Обновить\n                ")])])])])},Pa=[],$a={name:"ServerConfig",data:function(){return{data:{}}},mounted:function(){this.$store.getters.isAuthenticated?this.loadData():(this.$toaster.error("Для доступа к этой странице необходима авторизация"),this.$router.push("/login"))},methods:{loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.getServerConfig();case 4:this.data=t.sent,this.data.machineType!==this.$store.state.robotName&&this.$store.commit("setRobotName",this.data.machineType),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 11:e.hide();case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),UpdateConfig:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.setServerConfig(this.data.toPythonDict());case 4:this.data.machineType!==this.$store.state.robotName&&this.$store.commit("setRobotName",this.data.machineType),this.$toaster.success("Успешно обновлено"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 11:e.hide();case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),ResetConfig:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadData();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},ja=$a,Ra=(a("4720"),Object(d["a"])(ja,Sa,Pa,!1,null,"19e43c84",null));Ra.options.__file="ServerConfig.vue";var Oa=Ra.exports,Na={name:"ServerSettings",components:{Divider:j,"app-server-connection":ya,"app-server-config":Oa},data:function(){return{oldPassword:"",newPassword:"",newPasswordAgain:"",file:null,_loader:null}},methods:{resetPassword:function(){this.oldPassword="",this.newPassword="",this.newPasswordAgain=""},updatePassword:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(M.info(window.location.origin),this.oldPassword){t.next=4;break}return this.$toaster.error("Необходимо ввести текущий пароль"),t.abrupt("return");case 4:if(this.newPassword){t.next=7;break}return this.$toaster.error("Нельзя задать пустой пароль"),t.abrupt("return");case 7:if(this.newPassword===this.newPasswordAgain){t.next=10;break}return this.$toaster.error("Введеные пароли не совпадают"),t.abrupt("return");case 10:return t.prev=10,this._loader=this.$loading.show(),t.next=14,this.$store.dispatch("changePassword",this.oldPassword,this.newPassword);case 14:this.$toaster.success("Пароль успешно обновлен"),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](10),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Ошибка сервера"),M.error(t.t0)),this._loader.hide();case 21:case"end":return t.stop()}},t,this,[[10,17]])}));function e(){return t.apply(this,arguments)}return e}(),updateSSH:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("file",this.file),t.prev=2,this._loader=this.$loading.show(),t.next=6,this.$store.state.requestService.uploadSSHArchive(e);case 6:this.$toaster.success("Ключи успешно обновлены"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),t.t0 instanceof x?(this.file=null,this.$toaster.error(t.t0.message)):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 12:this._loader.hide();case 13:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}(),resetSSH:function(){this.file=null}}},Ta=Na,Ia=(a("e9c2"),Object(d["a"])(Ta,ba,ga,!1,null,"25bc22ef",null));Ia.options.__file="ServerSettings.vue";var Da=Ia.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flexbox"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"offset-0 offset-sm-2"}),a("div",{staticClass:"col-12 col-sm-8"},[a("b-card",[a("h2",{attrs:{align:"center"}},[t._v("Авторизация")]),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label col-xl-3 col-lg-3 col-12",attrs:{for:"password"}},[t._v("Пароль:")]),a("div",{staticClass:"col-xl-9 col-lg-9 col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",name:"password",autocomplete:"password"},domProps:{value:t.password},on:{keypress:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.login()},input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-xl-3 offset-xl-6 col-lg-4 offset-lg-4 offset-md-0 col-md-6 col-sm-12 offset-0 col-12 mb-1"},[a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.serverSettingsCollapse",modifiers:{serverSettingsCollapse:!0}}],staticClass:"btn btn-secondary btn-block",on:{click:function(e){t.serverSettings=!t.serverSettings}}},[t._v("\n                                        Выбор сервера\n                                        "),a("i",{staticClass:"fa",class:{"fa-angle-down":!t.serverSettings,"fa-angle-up":t.serverSettings}})])]),a("div",{staticClass:"col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.login()}}},[t._v("Войти")])])])]),a("b-collapse",{attrs:{id:"serverSettingsCollapse"}},[a("app-server-connect",{on:{changedHost:function(e){t.login()}}})],1)],1)],1)])])])},qa=[],Ea={data:function(){return{url:null,password:null,serverSettings:!1}},components:{"app-server-connect":ya},methods:{login:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.prev=1,t.next=4,this.$store.state.requestService.getServerInfo();case 4:return a=t.sent,a.ok&&(this.$store.commit("setRobotName",a.robotType),this.$store.commit("setRobotLabel",a.robotName),this.$toaster.success("Успешно подключено")),t.prev=6,t.next=9,this.$store.dispatch("authorize",this.password);case 9:this.$toaster.success("Успешно авторизован"),e.hide(),this.$emit("logged"),this.$router.push("/"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6),t.t0 instanceof x?this.$toaster.error(t.t0.message):(this.$toaster.error("Серверная ошибка"),M.error(t.t0));case 18:t.next=25;break;case 20:t.prev=20,t.t1=t["catch"](1),this.$store.commit("setRobotName",null),this.$store.commit("setRobotLabel","UNK"),this.$toaster.error("Не удалось подключиться");case 25:e.hide();case 26:case"end":return t.stop()}},t,this,[[1,20],[6,15]])}));function e(){return t.apply(this,arguments)}return e}()}},Aa=Ea,za=(a("68ba"),Object(d["a"])(Aa,Ma,qa,!1,null,"11522acd",null));za.options.__file="LoginPage.vue";var La=za.exports,Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flexbox"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"offset-0 offset-sm-0 offset-md-1 offset-lg-2 offset-xl-3 col-12 col-sm-12 col-md-10 col-lg-8 col-xl-6"},[a("b-card",[a("div",{staticClass:"container-fluid"},[a("h2",{attrs:{align:"center"}},[t._v("Выбор сервера")]),a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-1",staticStyle:{"font-size":"smaller"},attrs:{for:"hostAddress"}},[t._v("\n                                    Адрес сервера:\n                                ")]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{id:"hostAddress",type:"text",placeholder:"Введите адрес сервера host:port"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 mb-1"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){t.setClientUrl()}}},[t._v("\n                                        Адрес клиента\n                                    ")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 mb-1"},[a("button",{staticClass:"btn btn-info btn-block",on:{click:function(e){t.checkConnectionStatus()}}},[t._v("\n                                        Проверить\n                                    ")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 mb-1"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.changeHostAddress()}}},[t._v("\n                                        Подключить\n                                    ")])])])])])],1)])])])},Ha=[],Fa={name:"Home",data:function(){return{url:this.$store.state.url}},methods:{checkConnectionStatus:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading.show(),t.next=3,lt(this.$toaster,Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.$store.state.requestService.getServerInfo(a.url);case 3:e=t.sent,e.ok&&a.$toaster.info("Сервер ".concat(a.url," доступен")),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a.$toaster.error("Сервер ".concat(a.url," недоступен"));case 10:case"end":return t.stop()}},t,this,[[0,7]])})));case 3:e.hide();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeHostAddress:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("changeHostAddress",this.url),t.prev=1,t.next=4,this.$store.state.requestService.getServerInfo();case 4:e=t.sent,e.ok&&(this.$toaster.success("Успешно подключено"),this.$store.commit("setRobotName",e.robotType),this.$store.commit("setRobotLabel",e.robotName)),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](1),this.$store.commit("setRobotName",null),this.$store.commit("setRobotLabel","UNK"),this.$toaster.error("Не удалось подключиться");case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}(),setClientUrl:function(){var t=window.location.origin.split("://")[1];this.url=t.split(":")[0]+":5000"}}},Wa=Fa,Ba=(a("df12"),Object(d["a"])(Wa,Ua,Ha,!1,null,"7fd313d9",null));Ba.options.__file="Home.vue";var Ya=Ba.exports,Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[t._m(0),a("div",{staticClass:"row mt-1"},[a("div",{staticClass:"offset-xl-4 col-xl-4 offset-lg-3 col-lg-6 offset-md-2 col-md-8\n                        offset-xs-1 col-xs-10 offset-0 col-12"},[a("button",{staticClass:"btn btn-success btn-block",on:{click:function(e){t.goHome()}}},[t._v("Домой")])])])])},Va=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-xs-12  col-12"},[a("h3",{attrs:{align:"center"}},[t._v("\n                    Запрашиваемая вами страница не найдена, но вы всегда можете вернуться домой\n                ")])])])}],Ga={name:"NotFoundPage",methods:{goHome:function(){this.$router.push("/")}}},Ka=Ga,Za=(a("30fb"),Object(d["a"])(Ka,Ja,Va,!1,null,"c43b87f8",null));Za.options.__file="NotFoundPage.vue";var Qa=Za.exports;s["a"].use(Q["a"]);var Xa=function(t,e,a){if(Ge.getters.isAuthenticated)a();else{var r=s["a"].prototype.$cookies.get("toolBeltAuthToken");if(r&&"undefined"!==r)return Ge.commit("setAuthToken",r),void a();s["a"].prototype.$toaster.error("Для доступа к этой странице необходима авторизация"),a("/login")}},ts=function(t,e,a){Ge.state.robotName?a():(s["a"].prototype.$toaster.error("Для доступа к этой странице необходимо подключиться к серверу"),a("/"))},es=new Q["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Ya},{path:"/test",name:"test",component:function(){return a.e("chunk-431d0dbc").then(a.bind(null,"3add"))}},{path:"/settings",name:"settings",component:nt,beforeEnter:Xa},{path:"/wifi",name:"network",component:Vt,beforeEnter:Xa},{path:"/modules",name:"module",component:Ce,beforeEnter:Xa},{path:"/server_settings",name:"server-settings",component:Da,beforeEnter:Xa},{path:"/monitoring_navigation",name:"monitoring-navigation",component:ea,beforeEnter:ts},{path:"/table_statistics",name:"table-statistics",component:ht,beforeEnter:ts},{path:"/chart_statistics",name:"chart-statistics",component:Mt,beforeEnter:ts},{path:"/maps_statistics",name:"maps-statistics",component:he,beforeEnter:ts},{path:"/logs",name:"logs",component:oe,beforeEnter:ts},{path:"/system_info",name:"system-info",component:va,beforeEnter:ts},{path:"/change_password",name:"change-password",component:Pe,beforeEnter:Xa},{path:"/login",name:"login-page",component:La},{path:"*",name:"not-found",component:Qa}]}),as=a("9f7b"),ss=a.n(as),rs=a("ee01"),ns=a.n(rs),os=a("859b"),is=a.n(os),cs=a("f13c"),ls=a.n(cs),us=a("9062"),ds=a.n(us),ms=a("2ead"),fs=a.n(ms),hs=a("2b27"),ps=a.n(hs);a("e40d"),a("d355"),a("f9e3"),a("2dd8"),a("723d"),a("26ca"),a("15f5");s["a"].config.productionTip=!0,s["a"].use(ss.a),s["a"].use(fs.a),s["a"].use(is.a),s["a"].use(ps.a),s["a"].use(ns.a,{timeout:5e3}),s["a"].use(ds.a,{color:"#93a2f5",height:100,width:100,loader:"bars",backgroundColor:"#000000",opacity:.8}),s["a"].use(ls.a,{container:"body",duration:500,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),s["a"].filter("logLevelToString",function(t){switch(t){case Ne.INFO:return"Info";case Ne.DEBUG:return"Debug";case Ne.WARNING:return"Warning";case Ne.CRITICAL:return"Critical";default:return"Unknown"}}),s["a"].filter("toFixedPrecision",function(t){return t.toFixed(N.floatPrecision)}),s["a"].prototype.$isWideScreen=function(){return window.screen.width>=768},new s["a"]({router:es,store:Ge,render:function(t){return t(Z)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("5e27"),r=a.n(s);r.a},"5e27":function(t,e,a){},"5e6b":function(t,e,a){},"5eb4":function(t,e,a){"use strict";var s=a("1fca"),r=a("ea90"),n=a.n(r);e["a"]={extends:s["a"],mixins:[s["b"].reactiveProp],props:["options"],mounted:function(){this.addPlugin(n.a),this.renderChart(this.chartData,this.options)}}},"64f8":function(t,e,a){},"68ba":function(t,e,a){"use strict";var s=a("2b30"),r=a.n(s);r.a},"6cdd":function(t,e,a){},"6ee8":function(t,e,a){},"70bd":function(t,e,a){},"723d":function(t,e,a){},"7b40":function(t,e,a){"use strict";var s=a("537e"),r=a.n(s);r.a},"7c90":function(t,e,a){"use strict";var s=a("32c0"),r=a.n(s);r.a},"8fbf":function(t,e,a){},"94db":function(t,e,a){},"9c46":function(t,e,a){},a1b1:function(t,e,a){"use strict";var s=a("ea14"),r=a.n(s);r.a},a620:function(t,e,a){},a867:function(t,e,a){"use strict";var s=a("b6d3"),r=a.n(s);r.a},aad5:function(t,e,a){},adda:function(t,e,a){"use strict";var s=a("1776"),r=a.n(s);r.a},b3ac:function(t,e,a){"use strict";var s=a("e39a"),r=a.n(s);r.a},b588:function(t,e,a){"use strict";var s=a("0532"),r=a.n(s);r.a},b58c:function(t,e,a){},b6d3:function(t,e,a){},bb8a:function(t,e,a){},c7f1:function(t,e,a){"use strict";var s=a("6ee8"),r=a.n(s);r.a},d257:function(t,e,a){},df12:function(t,e,a){"use strict";var s=a("f0ae"),r=a.n(s);r.a},e35b:function(t,e,a){"use strict";var s=a("8fbf"),r=a.n(s);r.a},e39a:function(t,e,a){},e8c7:function(t,e,a){"use strict";var s=a("b58c"),r=a.n(s);r.a},e9c2:function(t,e,a){"use strict";var s=a("94db"),r=a.n(s);r.a},ea14:function(t,e,a){},ea87:function(t,e,a){"use strict";var s=a("4571"),r=a.n(s);r.a},f0ae:function(t,e,a){},f519:function(t,e,a){"use strict";var s=a("70bd"),r=a.n(s);r.a},fa38:function(t,e,a){"use strict";var s=a("d257"),r=a.n(s);r.a},fe38:function(t,e,a){}});
//# sourceMappingURL=app.a00dcdbf.js.map